<!doctype html><html lang=en class=no-js>
<head>
<meta charset=utf-8>
<meta name=viewport content="width=device-width,initial-scale=1,shrink-to-fit=no">
<meta name=generator content="Hugo 0.92.2">
<meta name=robots content="index, follow">
<link rel="shortcut icon" href=/observability-workshop/v4.25/favicons/favicon.ico>
<link rel=apple-touch-icon href=/observability-workshop/v4.25/favicons/apple-touch-icon-180x180.png sizes=180x180>
<link rel=icon type=image/png href=/observability-workshop/v4.25/favicons/favicon-16x16.png sizes=16x16>
<link rel=icon type=image/png href=/observability-workshop/v4.25/favicons/favicon-32x32.png sizes=32x32>
<link rel=icon type=image/png href=/observability-workshop/v4.25/favicons/android-36x36.png sizes=36x36>
<link rel=icon type=image/png href=/observability-workshop/v4.25/favicons/android-48x48.png sizes=48x48>
<link rel=icon type=image/png href=/observability-workshop/v4.25/favicons/android-72x72.png sizes=72x72>
<link rel=icon type=image/png href=/observability-workshop/v4.25/favicons/android-96x96.png sizes=96x96>
<link rel=icon type=image/png href=/observability-workshop/v4.25/favicons/android-144x144.png sizes=144x144>
<link rel=icon type=image/png href=/observability-workshop/v4.25/favicons/android-192x192.png sizes=192x192>
<title>Node.js- Deploy HTTP Client | Splunk Observability Cloud Workshops</title>
<meta name=description content="Make sure that you still have the Python Flask server from the Python Lab running. If you accidentally shut it down follow steps from the Python lab …">
<meta property="og:title" content="Node.js- Deploy HTTP Client">
<meta property="og:description" content="Make sure that you still have the Python Flask server from the Python Lab running. If you accidentally shut it down follow steps from the Python lab to restart the Python Flask server.
Start in the Node example directory Open a new terminal window
cd ~/otelworkshop/host/node Configure Node.js environment During npm init below you can use all defaults when prompted:
npm init && \ npm install @splunk/otel --save && \ npm install @opentelemetry/instrumentation-http --save Run .">
<meta property="og:type" content="article">
<meta property="og:url" content="https://signalfx.github.io/observability-workshop/v4.25/otelw/labs/apm_for_single_host/node/"><meta property="article:section" content="otelw">
<meta property="article:modified_time" content="2022-04-01T17:47:51+02:00"><meta property="og:site_name" content="Splunk Observability Cloud Workshops">
<meta itemprop=name content="Node.js- Deploy HTTP Client">
<meta itemprop=description content="Make sure that you still have the Python Flask server from the Python Lab running. If you accidentally shut it down follow steps from the Python lab to restart the Python Flask server.
Start in the Node example directory Open a new terminal window
cd ~/otelworkshop/host/node Configure Node.js environment During npm init below you can use all defaults when prompted:
npm init && \ npm install @splunk/otel --save && \ npm install @opentelemetry/instrumentation-http --save Run .">
<meta itemprop=dateModified content="2022-04-01T17:47:51+02:00">
<meta itemprop=wordCount content="255">
<meta itemprop=keywords content><meta name=twitter:card content="summary">
<meta name=twitter:title content="Node.js- Deploy HTTP Client">
<meta name=twitter:description content="Make sure that you still have the Python Flask server from the Python Lab running. If you accidentally shut it down follow steps from the Python lab to restart the Python Flask server.
Start in the Node example directory Open a new terminal window
cd ~/otelworkshop/host/node Configure Node.js environment During npm init below you can use all defaults when prompted:
npm init && \ npm install @splunk/otel --save && \ npm install @opentelemetry/instrumentation-http --save Run .">
<link rel=preload href=/observability-workshop/v4.25/scss/main.min.39785c4da9cb0cfe16de8f72aadcf06fb29187963dcb8220bb9935bd52331915.css as=style>
<link href=/observability-workshop/v4.25/scss/main.min.39785c4da9cb0cfe16de8f72aadcf06fb29187963dcb8220bb9935bd52331915.css rel=stylesheet integrity>
<script src=https://code.jquery.com/jquery-3.6.0.min.js integrity=sha384-vtXRMe3mGCbOeY7l30aIg8H9p3GdeSe4IFlP6G8JMa7o7lXvnz3GFKzPxzJdPfGK crossorigin=anonymous></script>
<script src=https://unpkg.com/lunr@2.3.9/lunr.min.js integrity=sha384-203J0SNzyqHby3iU6hzvzltrWi/M41wOP5Gu+BiJMz5nwKykbkUx8Kp7iti0Lpli crossorigin=anonymous></script>
</head>
<body class=td-page>
<header>
<nav class="js-navbar-scroll navbar navbar-expand navbar-dark flex-column flex-md-row td-navbar" id=navbar1>
<a class=navbar-brand href=/observability-workshop/v4.25/>
<span class=navbar-logo><img class=navbar-logo src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAC8AAAAvCAIAAAD8RQT7AAACwklEQVRYw+2YW2jTYBTHu4l4F1ERVMQL+qKgMBUU9EEfRAURUUFfBEUEBRGfdC+CrVt3cdbNSZ1zXqar024yp9MJKzh3FScyO+q8MDW3pvc2TZqkudSvtD4J66fkWyL0kNeQH8mX8/+dY8JMZuNcpjzNX9JQK64ZiEZlk9zDEe/aOmPQ8FIKlJpKtH+mNzUYg+Z38a7vvu2NRqHJlDhABPY0G4UmU8lhOnioFSu0GIImU9KXUOhYOz75kiFoMiVjsfDpl/i0UrQ0oePPkp5ACq5kHxs978JnlaHsxQVm/24H3zUGyaRE+Jj5DTGvEm0yeNfVsfeGVVGGYQJtk6kaIBfZ0OYUufBKrKRHCSWgmAQ5fmOIWl6DNjXx6dbwqRfgh4L6eJLC3v/oXW1HnOGFlsDeR0L3TygmEC+tn+j19ciNgt5Qzznc4B3AUPGd33xb7yL3G3LJVaaiX4kKMExCD+bf2YTctvCZZZEzndJYBIZJfE8F9jtBE0HsfpMswQNOoR+HYWIbPkyQiQIr4pyelKyOQ5No8UyoF1PLahjboMqIhqABl3/HA6EX05kGyEboSBuQIZ2/FDGnInKuSyaZnKcYLU32lMTF3P05ITHVb8nFNiQ09MZbXPPI+H9QliMuMuV9xIIqBN2vwAy8HTKw0gJ0sZuYW6l9MuBTS8MnnkujQSgOPxctdhGzy7VPTWL+5eiF1+ABUJJKMpGzr4CHaG8U1KrauH0IHEAot/kRDZ/swKeUaG9bvi13Em2jKUWF4gDDzdGn/zbcmHJE4MEWcZCAFPWk2xc8/ATcpbGl4zOsYFCC1IOsIex7/KchaEMj0ywkh9CH+3c59J8104uLbY36T758x1d68229twIZ+y+6qffGRFa5Jrd3jR3Td5ukJhVgr9TKWp03benp9fo7cmm1/lvImLUXDN757XWe5v+g+QU6sNkgKUPrgwAAAABJRU5ErkJggg=="></span><span class=font-weight-bold>Splunk Observability Cloud Workshops</span>
</a>
<div class="td-navbar-nav-scroll ml-md-auto" id=main_navbar>
<ul class="navbar-nav mt-2 mt-lg-0">
</ul>
</div>
</nav>
<nav class="js-navbar-scroll navbar navbar-expand navbar-dark flex-column flex-md-row td-navbar" id=navbar2>
<div class="td-navbar-nav-scroll ml-md-auto" id=main_navbar>
<ul class="navbar-nav mt-2 mt-lg-0">
<li class="nav-item mr-4 mb-2 mb-lg-0">
<a class=nav-link href=/observability-workshop/v4.25/imt/><span>Splunk IMT</span></a>
</li>
<li class="nav-item mr-4 mb-2 mb-lg-0">
<a class=nav-link href=/observability-workshop/v4.25/apm/><span>Splunk APM</span></a>
</li>
<li class="nav-item mr-4 mb-2 mb-lg-0">
<a class=nav-link href=/observability-workshop/v4.25/synthetics/><span>Splunk Synthetics</span></a>
</li>
<li class="nav-item mr-4 mb-2 mb-lg-0">
<a class=nav-link href=/observability-workshop/v4.25/rum/><span>Splunk RUM</span></a>
</li>
<li class="nav-item dropdown mr-4 d-none d-lg-block">
<a class="nav-link dropdown-toggle" href=# id=navbarDropdown role=button data-toggle=dropdown aria-haspopup=true aria-expanded=false>
More Workshops
</a>
<div class=dropdown-menu aria-labelledby=navbarDropdownMenuLink>
<a class=dropdown-item href=https://signalfx.github.io/observability-workshop/latest/pet-clinic/>Pet Clinic Java Workshop</a>
<a class=dropdown-item href=https://signalfx.github.io/observability-workshop/latest/bootcamp/>O11y Bootcamp</a>
<a class=dropdown-item href=https://signalfx.github.io/observability-workshop/latest/resources/>Resources</a>
</div>
</li>
<li class="nav-item dropdown mr-4 d-none d-lg-block">
<a class="nav-link dropdown-toggle" href=# id=navbarDropdown role=button data-toggle=dropdown aria-haspopup=true aria-expanded=false>
Releases
</a>
<div class=dropdown-menu aria-labelledby=navbarDropdownMenuLink>
<a class=dropdown-item href=https://signalfx.github.io/observability-workshop/latest/>latest</a>
<a class=dropdown-item href=https://signalfx.github.io/observability-workshop/v4.24>v4.24</a>
<a class=dropdown-item href=https://signalfx.github.io/observability-workshop/v4.25>v4.25</a>
</div>
</li>
<li class="nav-item dropdown mr-4 d-none d-lg-block">
<a class="nav-link dropdown-toggle" href=# id=navbarDropdown role=button data-toggle=dropdown aria-haspopup=true aria-expanded=false>
English
</a>
<div class=dropdown-menu aria-labelledby=navbarDropdownMenuLink>
<a class=dropdown-item href=/observability-workshop/v4.25/ja/>日本語</a>
</div>
</li>
</ul>
</div>
</nav>
</header>
<div class="container-fluid td-outer">
<div class=td-main>
<div class="row flex-xl-nowrap">
<aside class="col-12 col-md-3 col-xl-2 td-sidebar d-print-none">
<div id=td-sidebar-menu class=td-sidebar__inner>
<form class="td-sidebar__search d-flex align-items-center">
<input type=search class="form-control td-search-input" placeholder="&#xf002; Search this site…" aria-label="Search this site…" autocomplete=off data-offline-search-index-json-src=/observability-workshop/v4.25/offline-search-index.44e6dea152f7382210fcd62516c80624.json data-offline-search-base-href=/ data-offline-search-max-results=10>
<button class="btn btn-link td-sidebar__toggle d-md-none p-0 ml-3 fas fa-bars" type=button data-toggle=collapse data-target=#td-section-nav aria-controls=td-docs-nav aria-expanded=false aria-label="Toggle section navigation">
</button>
</form>
<nav class="collapse td-sidebar-nav" id=td-section-nav>
<div class="nav-item dropdown d-block d-lg-none">
<a class="nav-link dropdown-toggle" href=# id=navbarDropdown role=button data-toggle=dropdown aria-haspopup=true aria-expanded=false>
English
</a>
<div class=dropdown-menu aria-labelledby=navbarDropdownMenuLink>
<a class=dropdown-item href=/observability-workshop/v4.25/ja/>日本語</a>
</div>
</div>
<ul class="td-sidebar-nav__section pr-md-3 ul-0">
<li class="td-sidebar-nav__section-title td-sidebar-nav__section with-child active-path" id=m-observability-workshopv425otelw-li>
<a href=/observability-workshop/v4.25/otelw/ class="align-left pl-0 td-sidebar-link td-sidebar-link__section tree-root" id=m-observability-workshopv425otelw><span>OpenTelemetry</span></a>
<ul class=ul-1>
<li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id=m-observability-workshopv425otelwintroduction-li>
<a href=/observability-workshop/v4.25/otelw/introduction/ class="align-left pl-0 td-sidebar-link td-sidebar-link__page" id=m-observability-workshopv425otelwintroduction><span>Introduction</span></a>
</li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id=m-observability-workshopv425otelwsetup-li>
<a href=/observability-workshop/v4.25/otelw/setup/ class="align-left pl-0 td-sidebar-link td-sidebar-link__page" id=m-observability-workshopv425otelwsetup><span>Preparation</span></a>
</li><li class="td-sidebar-nav__section-title td-sidebar-nav__section with-child active-path" id=m-observability-workshopv425otelwlabs-li>
<a href=/observability-workshop/v4.25/otelw/labs/ class="align-left pl-0 td-sidebar-link td-sidebar-link__section" id=m-observability-workshopv425otelwlabs><span>Labs</span></a>
<ul class="ul-2 foldable">
<li class="td-sidebar-nav__section-title td-sidebar-nav__section with-child active-path" id=m-observability-workshopv425otelwlabsapm_for_single_host-li>
<a href=/observability-workshop/v4.25/otelw/labs/apm_for_single_host/ class="align-left pl-0 td-sidebar-link td-sidebar-link__section" id=m-observability-workshopv425otelwlabsapm_for_single_host><span>APM for a Single Host</span></a>
<ul class="ul-3 foldable">
<li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id=m-observability-workshopv425otelwlabsapm_for_single_hosthost-li>
<a href=/observability-workshop/v4.25/otelw/labs/apm_for_single_host/host/ class="align-left pl-0 td-sidebar-link td-sidebar-link__page" id=m-observability-workshopv425otelwlabsapm_for_single_hosthost><span>Install Otel Collector On Host</span></a>
</li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id=m-observability-workshopv425otelwlabsapm_for_single_hostpython-li>
<a href=/observability-workshop/v4.25/otelw/labs/apm_for_single_host/python/ class="align-left pl-0 td-sidebar-link td-sidebar-link__page" id=m-observability-workshopv425otelwlabsapm_for_single_hostpython><span>Python- Deploy HTTP Server and Client</span></a>
</li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id=m-observability-workshopv425otelwlabsapm_for_single_hostjava-li>
<a href=/observability-workshop/v4.25/otelw/labs/apm_for_single_host/java/ class="align-left pl-0 td-sidebar-link td-sidebar-link__page" id=m-observability-workshopv425otelwlabsapm_for_single_hostjava><span>Java- Deploy HTTP Client</span></a>
</li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child active-path" id=m-observability-workshopv425otelwlabsapm_for_single_hostnode-li>
<a href=/observability-workshop/v4.25/otelw/labs/apm_for_single_host/node/ class="align-left pl-0 active td-sidebar-link td-sidebar-link__page" id=m-observability-workshopv425otelwlabsapm_for_single_hostnode><span class=td-sidebar-nav-active-item>Node.js- Deploy HTTP Client</span></a>
</li>
</ul>
</li><li class="td-sidebar-nav__section-title td-sidebar-nav__section with-child" id=m-observability-workshopv425otelwlabsapm_for_k8s-li>
<a href=/observability-workshop/v4.25/otelw/labs/apm_for_k8s/ class="align-left pl-0 td-sidebar-link td-sidebar-link__section" id=m-observability-workshopv425otelwlabsapm_for_k8s><span>APM for Kubernetes</span></a>
<ul class="ul-3 foldable">
<li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id=m-observability-workshopv425otelwlabsapm_for_k8sk8s-li>
<a href=/observability-workshop/v4.25/otelw/labs/apm_for_k8s/k8s/ class="align-left pl-0 td-sidebar-link td-sidebar-link__page" id=m-observability-workshopv425otelwlabsapm_for_k8sk8s><span>APM for K8s</span></a>
</li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id=m-observability-workshopv425otelwlabsapm_for_k8sprep-li>
<a href=/observability-workshop/v4.25/otelw/labs/apm_for_k8s/prep/ class="align-left pl-0 td-sidebar-link td-sidebar-link__page" id=m-observability-workshopv425otelwlabsapm_for_k8sprep><span></span></a>
</li><li class="td-sidebar-nav__section-title td-sidebar-nav__section with-child" id=m-observability-workshopv425otelwlabsapm_for_k8sexamples-li>
<a href=/observability-workshop/v4.25/otelw/labs/apm_for_k8s/examples/ class="align-left pl-0 td-sidebar-link td-sidebar-link__section" id=m-observability-workshopv425otelwlabsapm_for_k8sexamples><span>Instrumentation Examples</span></a>
<ul class="ul-4 foldable">
<li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id=m-observability-workshopv425otelwlabsapm_for_k8sexamplesistio-li>
<a href=/observability-workshop/v4.25/otelw/labs/apm_for_k8s/examples/istio/ class="align-left pl-0 td-sidebar-link td-sidebar-link__page" id=m-observability-workshopv425otelwlabsapm_for_k8sexamplesistio><span>Istio Setup</span></a>
</li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id=m-observability-workshopv425otelwlabsapm_for_k8sexamplesdotnet-li>
<a href=/observability-workshop/v4.25/otelw/labs/apm_for_k8s/examples/dotnet/ class="align-left pl-0 td-sidebar-link td-sidebar-link__page" id=m-observability-workshopv425otelwlabsapm_for_k8sexamplesdotnet><span>.Net Setup</span></a>
</li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id=m-observability-workshopv425otelwlabsapm_for_k8sexamplesdotnet21-li>
<a href=/observability-workshop/v4.25/otelw/labs/apm_for_k8s/examples/dotnet21/ class="align-left pl-0 td-sidebar-link td-sidebar-link__page" id=m-observability-workshopv425otelwlabsapm_for_k8sexamplesdotnet21><span>.Net Core 2.1</span></a>
</li>
</ul>
</li>
</ul>
</li><li class="td-sidebar-nav__section-title td-sidebar-nav__section with-child" id=m-observability-workshopv425otelwlabsoptional-li>
<a href=/observability-workshop/v4.25/otelw/labs/optional/ class="align-left pl-0 td-sidebar-link td-sidebar-link__section" id=m-observability-workshopv425otelwlabsoptional><span>Optional/Advanced</span></a>
<ul class="ul-3 foldable">
<li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id=m-observability-workshopv425otelwlabsoptionaldocker-li>
<a href=/observability-workshop/v4.25/otelw/labs/optional/docker/ class="align-left pl-0 td-sidebar-link td-sidebar-link__page" id=m-observability-workshopv425otelwlabsoptionaldocker><span>OTel Collector and APM for Docker</span></a>
</li>
</ul>
</li>
</ul>
</li><li class="td-sidebar-nav__section-title td-sidebar-nav__section with-child" id=m-observability-workshopv425otelwapm_ecs_demos-li>
<a href=/observability-workshop/v4.25/otelw/apm_ecs_demos/ class="align-left pl-0 td-sidebar-link td-sidebar-link__section" id=m-observability-workshopv425otelwapm_ecs_demos><span>ECS Demos</span></a>
<ul class="ul-2 foldable">
<li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id=m-observability-workshopv425otelwapm_ecs_demosindex-ec2-li>
<a href=/observability-workshop/v4.25/otelw/apm_ecs_demos/index-ec2/ class="align-left pl-0 td-sidebar-link td-sidebar-link__page" id=m-observability-workshopv425otelwapm_ecs_demosindex-ec2><span>ECS-EC2</span></a>
</li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id=m-observability-workshopv425otelwapm_ecs_demosindex-fargate-li>
<a href=/observability-workshop/v4.25/otelw/apm_ecs_demos/index-fargate/ class="align-left pl-0 td-sidebar-link td-sidebar-link__page" id=m-observability-workshopv425otelwapm_ecs_demosindex-fargate><span>ECS-Fargate</span></a>
</li>
</ul>
</li><li class="td-sidebar-nav__section-title td-sidebar-nav__section with-child" id=m-observability-workshopv425otelwappendix-li>
<a href=/observability-workshop/v4.25/otelw/appendix/ class="align-left pl-0 td-sidebar-link td-sidebar-link__section" id=m-observability-workshopv425otelwappendix><span>Appendix</span></a>
<ul class="ul-2 foldable">
<li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id=m-observability-workshopv425otelwappendixappendix-li>
<a href=/observability-workshop/v4.25/otelw/appendix/appendix/ class="align-left pl-0 td-sidebar-link td-sidebar-link__page" id=m-observability-workshopv425otelwappendixappendix><span>Helpful Tips</span></a>
</li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id=m-observability-workshopv425otelwappendixecs-cli-commands-li>
<a href=/observability-workshop/v4.25/otelw/appendix/ecs-cli-commands/ class="align-left pl-0 td-sidebar-link td-sidebar-link__page" id=m-observability-workshopv425otelwappendixecs-cli-commands><span>ECS-CLI Commands</span></a>
</li>
</ul>
</li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id=m-observability-workshopv425otelwdashboardsservicedashboard-li>
<a href=/observability-workshop/v4.25/otelw/dashboards/servicedashboard/ class="align-left pl-0 td-sidebar-link td-sidebar-link__page" id=m-observability-workshopv425otelwdashboardsservicedashboard><span></span></a>
</li>
</ul>
</li>
</ul>
</nav>
</div>
</aside>
<aside class="d-none d-xl-block col-xl-2 td-sidebar-toc d-print-none">
<div class="td-page-meta ml-2 pb-1 pt-2 mb-0">
</div>
<div class=td-toc><nav id=TableOfContents>
<ul>
<li><a href=#start-in-the-node-example-directory>Start in the Node example directory</a></li>
<li><a href=#configure-nodejs-environment>Configure Node.js environment</a></li>
<li><a href=#run-js-httpget-requests-client>Run .js HTTP.get requests client</a></li>
<li><a href=#apm-dashboard>APM Dashboard</a></li>
<li><a href=#where-is-the-opentelemetry-instrumentation>Where is the OpenTelemetry Instrumentation?</a></li>
</ul>
</nav></div>
<div class="taxonomy taxonomy-terms-cloud taxo-tags">
<h5 class=taxonomy-title>Tag Cloud</h5>
<ul class=taxonomy-terms>
<li><a class=taxonomy-term href=https://signalfx.github.io/observability-workshop/v4.25/tags/k3s/ data-taxonomy-term=k3s><span class=taxonomy-label>k3s</span><span class=taxonomy-count>1</span></a></li>
<li><a class=taxonomy-term href=https://signalfx.github.io/observability-workshop/v4.25/tags/ngnix/ data-taxonomy-term=ngnix><span class=taxonomy-label>NGNIX</span><span class=taxonomy-count>1</span></a></li>
</ul>
</div>
<div class="taxonomy taxonomy-terms-cloud taxo-categories">
<h5 class=taxonomy-title>Categories</h5>
<ul class=taxonomy-terms>
<li><a class=taxonomy-term href=https://signalfx.github.io/observability-workshop/v4.25/categories/imt/ data-taxonomy-term=imt><span class=taxonomy-label>IMT</span><span class=taxonomy-count>2</span></a></li>
</ul>
</div>
</aside>
<main class="col-12 col-md-9 col-xl-8 pl-md-5" role=main>
<nav aria-label=breadcrumb class=td-breadcrumbs>
<ol class=breadcrumb>
<li class=breadcrumb-item>
<a href=https://signalfx.github.io/observability-workshop/v4.25/otelw/>OpenTelemetry</a>
</li>
<li class=breadcrumb-item>
<a href=https://signalfx.github.io/observability-workshop/v4.25/otelw/labs/>Labs</a>
</li>
<li class=breadcrumb-item>
<a href=https://signalfx.github.io/observability-workshop/v4.25/otelw/labs/apm_for_single_host/>APM for a Single Host</a>
</li>
<li class="breadcrumb-item active" aria-current=page>
<a href=https://signalfx.github.io/observability-workshop/v4.25/otelw/labs/apm_for_single_host/node/>Node.js- Deploy HTTP Client</a>
</li>
</ol>
</nav>
<div class=td-content>
<h1>Node.js- Deploy HTTP Client</h1>
<header class=article-meta>
<p class=reading-time><i class="fa fa-clock" aria-hidden=true></i>&nbsp; 2 minute read &nbsp;</p>
</header>
<p>Make sure that you still have the Python Flask server from the Python Lab running. If you accidentally shut it down follow steps from the Python lab to restart the Python Flask server.</p>
<h2 id=start-in-the-node-example-directory>Start in the Node example directory</h2>
<p><strong>Open a new terminal window</strong></p>
<div class=highlight><pre tabindex=0 style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash><span style=color:#204a87>cd</span> ~/otelworkshop/host/node
</code></pre></div><h2 id=configure-nodejs-environment>Configure Node.js environment</h2>
<p>During <code>npm init</code> below you can use all defaults when prompted:</p>
<div class=highlight><pre tabindex=0 style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash>npm init <span style=color:#ce5c00;font-weight:700>&amp;&amp;</span> <span style=color:#4e9a06>\
</span><span style=color:#4e9a06></span>npm install @splunk/otel --save <span style=color:#ce5c00;font-weight:700>&amp;&amp;</span> <span style=color:#4e9a06>\
</span><span style=color:#4e9a06></span>npm install @opentelemetry/instrumentation-http --save
</code></pre></div><h2 id=run-js-httpget-requests-client>Run .js HTTP.get requests client</h2>
<p>Set up environment and run the node app with HTTP.get requests
!!! important
If you are doing this workshop as part of a group, before the next step, add your initials do the APM environment:
edit the <code>run-client.sh</code> script below and add your initials to the environment i.e. change:<br>
<code>export OTEL_RESOURCE_ATTRIBUTES=deployment.environment=apm-workshop</code><br>
to <br>
<code>export OTEL_RESOURCE_ATTRIBUTES=deployment.environment=sjl-apm-workshop</code></p>
<div class=highlight><pre tabindex=0 style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash><span style=color:#204a87>source</span> run-client.sh
</code></pre></div><p>You will see requests printed to the window</p>
<h2 id=apm-dashboard>APM Dashboard</h2>
<p>Traces / services will now be viewable in the APM dashboard. A new service takes about 90 seconds to register for the firs time, and then all data will be available in real time.</p>
<p>Additionally span IDs will print in the terminal where flask-server.py is running. You can use ++ctrl+c++ to stop the requests and server any time. You should now see a Node requests service alongside the Python and Java ones.</p>
<p><img src=../../../images/14-node.png alt=Node></p>
<p><img src=../../../images/15-nodetraces.png alt="Node Traces"></p>
<p><img src=../../../images/16-nodespans.png alt="Node Spans"></p>
<h2 id=where-is-the-opentelemetry-instrumentation>Where is the OpenTelemetry Instrumentation?</h2>
<p>You can see in the <code>run-client.sh</code> how the environment has been set up for OpenTelemtry and where the autoinstrumentation takes place as the node app runs.</p>
<p>Splunk&rsquo;s Otel autoinstrumentation for node.js is <a href=https://github.com/signalfx/splunk-otel-js target=_blank>here</a>
</p>
</div>
</main>
</div>
</div>
<footer class="bg-dark py-5 row d-print-none">
<div class="container-fluid mx-sm-5">
<div class=row>
<div class="col-6 col-sm-4 text-xs-center order-sm-2">
<ul class="list-inline mb-0">
<li class="list-inline-item mx-2 h3" data-toggle=tooltip data-placement=top title=Twitter aria-label=Twitter>
<a class=text-white target=_blank rel=noopener href=https://twitter.com/splunk aria-label=Twitter>
<i class="fab fa-twitter"></i>
</a>
</li>
</ul>
</div>
<div class="col-6 col-sm-4 text-right text-xs-center order-sm-3">
<ul class="list-inline mb-0">
<li class="list-inline-item mx-2 h3" data-toggle=tooltip data-placement=top title=GitHub aria-label=GitHub>
<a class=text-white target=_blank rel=noopener href=https://github.com/signalfx/observability-workshop aria-label=GitHub>
<i class="fab fa-github"></i>
</a>
</li>
</ul>
</div>
<div class="col-12 col-sm-4 text-center py-2 order-sm-2">
<small class=text-white>&copy; 2022 Splunk Inc. All Rights Reserved</small>
</div>
</div>
</div>
</footer>
</div>
<script src=https://cdn.jsdelivr.net/npm/popper.js@1.16.1/dist/umd/popper.min.js integrity=sha384-9/reFTGAW83EW2RDu2S0VKaIzap3H66lZH81PoYlFhbGU+6BZp6G7niu735Sk7lN crossorigin=anonymous></script>
<script src=https://cdn.jsdelivr.net/npm/bootstrap@4.6.1/dist/js/bootstrap.min.js integrity="sha512-UR25UO94eTnCVwjbXozyeVd6ZqpaAE9naiEUBK/A+QDbfSTQFhPGj5lOR6d8tsgbBk84Ggb5A3EkjsOgPRPcKA==" crossorigin=anonymous></script>
<script src=/observability-workshop/v4.25/js/tabpane-persist.js></script>
<script src=/observability-workshop/v4.25/js/main.min.8ab8f81ff7e1454d30024cd6f956d4d341c3a97e2a673f988065f2ee4e147922.js integrity="sha256-irj4H/fhRU0wAkzW+VbU00HDqX4qZz+YgGXy7k4UeSI=" crossorigin=anonymous></script>
<script>const svgCopy='<svg aria-hidden="true" height="16" viewBox="0 0 16 16" version="1.1" width="16" data-view-component="true"><path fill-rule="evenodd" d="M0 6.75C0 5.784.784 5 1.75 5h1.5a.75.75 0 010 1.5h-1.5a.25.25 0 00-.25.25v7.5c0 .138.112.25.25.25h7.5a.25.25 0 00.25-.25v-1.5a.75.75 0 011.5 0v1.5A1.75 1.75 0 019.25 16h-7.5A1.75 1.75 0 010 14.25v-7.5z"></path><path fill-rule="evenodd" d="M5 1.75C5 .784 5.784 0 6.75 0h7.5C15.216 0 16 .784 16 1.75v7.5A1.75 1.75 0 0114.25 11h-7.5A1.75 1.75 0 015 9.25v-7.5zm1.75-.25a.25.25 0 00-.25.25v7.5c0 .138.112.25.25.25h7.5a.25.25 0 00.25-.25v-7.5a.25.25 0 00-.25-.25h-7.5z"></path></svg>',svgCheck='<svg aria-hidden="true" height="16" viewBox="0 0 16 16" version="1.1" width="16" data-view-component="true"><path fill-rule="evenodd" fill="rgb(63, 185, 80)" d="M13.78 4.22a.75.75 0 010 1.06l-7.25 7.25a.75.75 0 01-1.06 0L2.22 9.28a.75.75 0 011.06-1.06L6 10.94l6.72-6.72a.75.75 0 011.06 0z"></path></svg>',addCopyButtons=a=>{document.querySelectorAll("pre > code").forEach(c=>{const b=document.createElement("button");b.className="clipboard-button",b.type="button",b.innerHTML=svgCopy,b.addEventListener("click",()=>{a.writeText(c.innerText).then(()=>{b.blur(),b.innerHTML=svgCheck,setTimeout(()=>b.innerHTML=svgCopy,2e3)},a=>b.innerHTML="Error")});const d=c.parentNode;d.parentNode.insertBefore(b,d)})};if(navigator&&navigator.clipboard)addCopyButtons(navigator.clipboard);else{const a=document.createElement("script");a.src="https://cdnjs.cloudflare.com/ajax/libs/clipboard-polyfill/2.7.0/clipboard-polyfill.promise.js",a.integrity="sha256-waClS2re9NUbXRsryKoof+F9qc1gjjIhc2eT7ZbIv94=",a.crossOrigin="anonymous",a.onload=()=>addCopyButtons(clipboard),document.body.appendChild(a)}</script>
</body>
</html>