<rss version="2.0" xmlns:atom="http://www.w3.org/2005/Atom"><channel><title>Splunk Observability Cloud Workshops – 5. How Platform Engineers Observe Kubernetes - Workshop</title><link>https://splunk.github.io/observability-workshop/v4.49/tko/session-5/</link><description>Recent content in 5. How Platform Engineers Observe Kubernetes - Workshop on Splunk Observability Cloud Workshops</description><generator>Hugo -- gohugo.io</generator><atom:link href="https://splunk.github.io/observability-workshop/v4.49/tko/session-5/index.xml" rel="self" type="application/rss+xml"/><item><title>Tko: Deploying the OpenTelemetry Collector in Kubernetes using a NameSpace</title><link>https://splunk.github.io/observability-workshop/v4.49/tko/session-5/docs/deploy-otel/</link><pubDate>Mon, 01 Jan 0001 00:00:00 +0000</pubDate><guid>https://splunk.github.io/observability-workshop/v4.49/tko/session-5/docs/deploy-otel/</guid><description>
&lt;h2 id="0-switching-to-the-new-kubernetes-navigator-20-ui">0. Switching to the new Kubernetes Navigator 2.0 UI&lt;/h2>
&lt;p>As we are in the process of switched to the new generation of the Kubernetes Navigator, please check if you are already on the new Kubernetes navigator.&lt;/p>
&lt;p>When you select &lt;code>Infrastructure&lt;/code> from the main menu on the left, followed by selecting &lt;code>Kubernetes&lt;/code>, you should see two services panes for Kubernetes, similar like the ones below:&lt;/p>
&lt;p>&lt;img src="../images/k8s-nav2-two.png" alt="k8s-navi-v-2">&lt;/p>
&lt;p>If you taken straight to the Kubernetes Navigator v1 Map view after selecting &lt;code>Kubernetes&lt;/code>, you need to opt in to the new Navigator yourself for this workshop by clicking on the big blue &lt;img src="../images/new-k8s-button.png" alt="new-k8-button">. You should now be in the K8s Node view with chart below the cluster map similar like shown below:&lt;/p>
&lt;p>&lt;img src="../images/new-k8s-view.png" alt="k8s-navi-v-2">&lt;/p>
&lt;div class="alert alert-info" role="alert">
&lt;p class="alert-heading">Note&lt;/p>
&lt;div class="alert-body">
&lt;p class="p-alert-body">
&lt;p>If you actually see three services for Kubernetes including one that is named &lt;code>K8s clusters&lt;/code> you need to turn of Precognition in the Superpowers view.
To do this, please change the Url in your browser to match the following: &lt;a href="https://app.[REALM].signalfx.com/#/superpowers" target="_blank">https://app.[REALM].signalfx.com/#/superpowers&lt;/a>
&lt;/p>
&lt;p>Where [REALM] needs to match the Realm we are using for this workshop then remove the Precognition flag like in the example below. This is one of the first options you can set:&lt;/p>
&lt;p>&lt;img src="../images/Precognition.png" alt="Set-Precognition">&lt;/p>
&lt;p>Once its unset, you can refresh you page, and reselect Kubernetes from the infrastructure navigator menu.&lt;/p>
&lt;/p>
&lt;/div>
&lt;/div>
&lt;h2 id="1-connect-to-ec2-instance">1. Connect to EC2 instance&lt;/h2>
&lt;p>You will be able to connect to the workshop instance by using SSH from your Mac, Linux or Windows device.&lt;/p>
&lt;p>To use SSH, open a terminal on your system and type &lt;code>ssh ubuntu@x.x.x.x&lt;/code> (replacing x.x.x.x with the IP address assigned to you).&lt;/p>
&lt;div class="alert alert-info" role="alert">
&lt;p class="alert-heading">Note&lt;/p>
&lt;div class="alert-body">
&lt;p class="p-alert-body">
Your workshop instance has been pre-configured with the correct &lt;code>ACCESS_TOKEN&lt;/code> and &lt;code>REALM&lt;/code> for this workshop. There is no need for you to configure these.
&lt;/p>
&lt;/div>
&lt;/div>
&lt;h2 id="2-namespaces-in-kubernetes">2. Namespaces in Kubernetes&lt;/h2>
&lt;p>Most of our customers will make use of some kind of private or public cloud service to run Kubernetes. They often choose to have only a few large Kubernetes clusters as it is easier to manage centrally.&lt;/p>
&lt;p>Namespaces are a way to organize these large Kubernetes clusters into virtual sub-clusters. This can be helpful when different teams or projects share a Kubernetes cluster as this will give them the easy ability to just see and work with their own stuff.&lt;/p>
&lt;p>Any number of namespaces are supported within a cluster, each logically separated from others but with the ability to communicate with each other. Components are only &amp;ldquo;visible&amp;rdquo; when selecting a namespace or when adding the &lt;code>--all-namespaces&lt;/code> flag to &lt;code>kubectl&lt;/code> instead of allowing you to view just the components relevant to your project by selecting your namespace.&lt;/p>
&lt;p>Most customers will want to install the Splunk OpenTelemetry Collector in a separate namespace. This workshop will follow that practice.&lt;/p>
&lt;h2 id="3-install-splunk-otel-using-helm">3. Install Splunk OTel using Helm&lt;/h2>
&lt;p>Install the OpenTelemetry Collector using the Splunk Helm chart. First, add the Splunk Helm chart repository and update.&lt;/p>
&lt;ul class="nav nav-tabs" id="tabs-2" role="tablist">
&lt;li class="nav-item">
&lt;a class="nav-link active persistLang-sh"
id="tabs-02-00-tab" data-toggle="tab" href="#tabs-02-00" role="tab"
onclick="persistLang(&amp;#34;sh&amp;#34;);"aria-controls="tabs-02-00" aria-selected="false">
Helm Repo Add
&lt;/a>
&lt;/li>&lt;li class="nav-item">
&lt;a class="nav-link persistLang-text"
id="tabs-02-01-tab" data-toggle="tab" href="#tabs-02-01" role="tab"
onclick="persistLang(&amp;#34;text&amp;#34;);"aria-controls="tabs-02-01" aria-selected="false">
Helm Repo Add Output
&lt;/a>
&lt;/li>
&lt;/ul>
&lt;div class="tab-content" id="tabs-2-content">
&lt;div class="tab-pane fade show active"
id="tabs-02-00" role="tabpanel" aria-labelled-by="tabs-02-00-tab">
&lt;div class="highlight">&lt;pre tabindex="0" style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">&lt;code class="language-sh" data-lang="sh">&lt;span style="display:flex;">&lt;span>helm repo add splunk-otel-collector-chart https://signalfx.github.io/splunk-otel-collector-chart &lt;span style="color:#ce5c00;font-weight:bold">&amp;amp;&amp;amp;&lt;/span> helm repo update&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>
&lt;/div>
&lt;div class="tab-pane fade"
id="tabs-02-01" role="tabpanel" aria-labelled-by="tabs-02-01-tab">
&lt;div class="highlight">&lt;pre tabindex="0" style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">&lt;code class="language-text" data-lang="text">&lt;span style="display:flex;">&lt;span>Using ACCESS_TOKEN={REDACTED}
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>Using REALM=eu0
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&amp;#34;splunk-otel-collector-chart&amp;#34; has been added to your repositories
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>Using ACCESS_TOKEN={REDACTED}
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>Using REALM=eu0
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>Hang tight while we grab the latest from your chart repositories...
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>...Successfully got an update from the &amp;#34;splunk-otel-collector-chart&amp;#34; chart repository
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>Update Complete. ⎈Happy Helming!⎈&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>
&lt;/div>
&lt;/div>
&lt;p>Install the OpenTelemetry Collector Helm chart into the &lt;code>splunk&lt;/code> namespace with the following commands, do &lt;strong>NOT&lt;/strong> edit this:&lt;/p>
&lt;ul class="nav nav-tabs" id="tabs-3" role="tablist">
&lt;li class="nav-item">
&lt;a class="nav-link active persistLang-sh"
id="tabs-03-00-tab" data-toggle="tab" href="#tabs-03-00" role="tab"
onclick="persistLang(&amp;#34;sh&amp;#34;);"aria-controls="tabs-03-00" aria-selected="false">
Helm Install
&lt;/a>
&lt;/li>
&lt;/ul>
&lt;div class="tab-content" id="tabs-3-content">
&lt;div class="tab-pane fade show active"
id="tabs-03-00" role="tabpanel" aria-labelled-by="tabs-03-00-tab">
&lt;div class="highlight">&lt;pre tabindex="0" style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">&lt;code class="language-sh" data-lang="sh">&lt;span style="display:flex;">&lt;span>helm install splunk-otel-collector &lt;span style="color:#4e9a06">\
&lt;/span>&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#4e9a06">&lt;/span>--set&lt;span style="color:#ce5c00;font-weight:bold">=&lt;/span>&lt;span style="color:#4e9a06">&amp;#34;splunkObservability.realm=&lt;/span>&lt;span style="color:#000">$REALM&lt;/span>&lt;span style="color:#4e9a06">&amp;#34;&lt;/span> &lt;span style="color:#4e9a06">\
&lt;/span>&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#4e9a06">&lt;/span>--set&lt;span style="color:#ce5c00;font-weight:bold">=&lt;/span>&lt;span style="color:#4e9a06">&amp;#34;splunkObservability.accessToken=&lt;/span>&lt;span style="color:#000">$ACCESS_TOKEN&lt;/span>&lt;span style="color:#4e9a06">&amp;#34;&lt;/span> &lt;span style="color:#4e9a06">\
&lt;/span>&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#4e9a06">&lt;/span>--set&lt;span style="color:#ce5c00;font-weight:bold">=&lt;/span>&lt;span style="color:#4e9a06">&amp;#34;clusterName=&lt;/span>&lt;span style="color:#204a87;font-weight:bold">$(&lt;/span>hostname&lt;span style="color:#204a87;font-weight:bold">)&lt;/span>&lt;span style="color:#4e9a06">-k3s-cluster&amp;#34;&lt;/span> &lt;span style="color:#4e9a06">\
&lt;/span>&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#4e9a06">&lt;/span>--set&lt;span style="color:#ce5c00;font-weight:bold">=&lt;/span>&lt;span style="color:#4e9a06">&amp;#34;splunkObservability.logsEnabled=true&amp;#34;&lt;/span> &lt;span style="color:#4e9a06">\
&lt;/span>&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#4e9a06">&lt;/span>--set&lt;span style="color:#ce5c00;font-weight:bold">=&lt;/span>&lt;span style="color:#4e9a06">&amp;#34;splunkObservability.infrastructureMonitoringEventsEnabled=true&amp;#34;&lt;/span> &lt;span style="color:#4e9a06">\
&lt;/span>&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#4e9a06">&lt;/span>splunk-otel-collector-chart/splunk-otel-collector &lt;span style="color:#4e9a06">\
&lt;/span>&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#4e9a06">&lt;/span>--namespace splunk &lt;span style="color:#4e9a06">\
&lt;/span>&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#4e9a06">&lt;/span>--create-namespace &lt;span style="color:#4e9a06">\
&lt;/span>&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#4e9a06">&lt;/span>-f ~/workshop/k3s/splunk-defaults.yaml&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>
&lt;/div>
&lt;/div>
&lt;h2 id="4-verify-deployment">4. Verify Deployment&lt;/h2>
&lt;p>You can monitor the progress of the deployment by running &lt;code>kubectl get pods&lt;/code> and adding &lt;code>-n splunk&lt;/code> to the command to see the pods in the &lt;code>splunk&lt;/code> NameSpace which should typically report that the new pods are up and running after about 30 seconds.&lt;/p>
&lt;p>Ensure the status is reported as &lt;strong>Running&lt;/strong> before continuing.&lt;/p>
&lt;ul class="nav nav-tabs" id="tabs-4" role="tablist">
&lt;li class="nav-item">
&lt;a class="nav-link active persistLang-sh"
id="tabs-04-00-tab" data-toggle="tab" href="#tabs-04-00" role="tab"
onclick="persistLang(&amp;#34;sh&amp;#34;);"aria-controls="tabs-04-00" aria-selected="false">
kubectl get pods
&lt;/a>
&lt;/li>&lt;li class="nav-item">
&lt;a class="nav-link persistLang-text"
id="tabs-04-01-tab" data-toggle="tab" href="#tabs-04-01" role="tab"
onclick="persistLang(&amp;#34;text&amp;#34;);"aria-controls="tabs-04-01" aria-selected="false">
kubectl get pods Output
&lt;/a>
&lt;/li>
&lt;/ul>
&lt;div class="tab-content" id="tabs-4-content">
&lt;div class="tab-pane fade show active"
id="tabs-04-00" role="tabpanel" aria-labelled-by="tabs-04-00-tab">
&lt;div class="highlight">&lt;pre tabindex="0" style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">&lt;code class="language-sh" data-lang="sh">&lt;span style="display:flex;">&lt;span>kubectl get pods -n splunk&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>
&lt;/div>
&lt;div class="tab-pane fade"
id="tabs-04-01" role="tabpanel" aria-labelled-by="tabs-04-01-tab">
&lt;div class="highlight">&lt;pre tabindex="0" style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">&lt;code class="language-text" data-lang="text">&lt;span style="display:flex;">&lt;span>NAME READY STATUS RESTARTS AGE
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>splunk-otel-collector-agent-pvstb 2/2 Running 0 19s
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>splunk-otel-collector-k8s-cluster-receiver-6c454894f8-mqs8n 1/1 Running 0 19s&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>
&lt;/div>
&lt;/div>
&lt;div class="alert alert-info" role="alert">
&lt;p class="alert-heading">Note&lt;/p>
&lt;div class="alert-body">
&lt;p class="p-alert-body">
&lt;p>If you are using the Kubernetes Integration setup from the Data Management page from the O11y UI , you find that the guide will use
&lt;code>--generate-name splunk-otel-collector-chart/splunk-otel-collector&lt;/code> instead of just &lt;code>splunk-otel-collector-chart/splunk-otel-collector&lt;/code> as we do in the above example.&lt;/p>
&lt;p>This will generate an unique name/label for the collector install and Pods by adding a unique number at the end of the object name, allowing you to install multiple collectors in your Kubernetes environment with different configurations.&lt;/p>
&lt;p>Just make sure you use the correct label that is generated by the Helm chart if you wish to use the &lt;code>helm&lt;/code> and &lt;code>kubectl&lt;/code> commands from this workshop on an install done with the &lt;code>--generate-name&lt;/code> option.&lt;/p>
&lt;/p>
&lt;/div>
&lt;/div>
&lt;p>Use the label set by the &lt;code>helm&lt;/code> install to tail logs (You will need to press &lt;code>ctrl + c&lt;/code> to exit).&lt;/p>
&lt;ul class="nav nav-tabs" id="tabs-6" role="tablist">
&lt;li class="nav-item">
&lt;a class="nav-link active persistLang-sh"
id="tabs-06-00-tab" data-toggle="tab" href="#tabs-06-00" role="tab"
onclick="persistLang(&amp;#34;sh&amp;#34;);"aria-controls="tabs-06-00" aria-selected="false">
kubectl logs
&lt;/a>
&lt;/li>
&lt;/ul>
&lt;div class="tab-content" id="tabs-6-content">
&lt;div class="tab-pane fade show active"
id="tabs-06-00" role="tabpanel" aria-labelled-by="tabs-06-00-tab">
&lt;div class="highlight">&lt;pre tabindex="0" style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">&lt;code class="language-sh" data-lang="sh">&lt;span style="display:flex;">&lt;span>kubectl logs -l &lt;span style="color:#000">app&lt;/span>&lt;span style="color:#ce5c00;font-weight:bold">=&lt;/span>splunk-otel-collector -f --container otel-collector -n splunk&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>
&lt;/div>
&lt;/div>
&lt;p>Or use the installed &lt;code>k9s&lt;/code> terminal UI.&lt;/p>
&lt;p>&lt;img src="../images/k9s.png" alt="k9s">&lt;/p>
&lt;div class="alert alert-danger" role="alert">
&lt;p class="alert-heading">Deleting a failed installation&lt;/p>
&lt;div class="alert-body">
&lt;p class="p-alert-body">
&lt;p>If you make an error installing the Splunk OpenTelemetry Collector you can start over by deleting the installation using:&lt;/p>
&lt;div class="highlight">&lt;pre tabindex="0" style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">&lt;code class="language-sh" data-lang="sh">&lt;span style="display:flex;">&lt;span>helm delete splunk-otel-collector -n splunk
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>
&lt;/p>
&lt;/div>
&lt;/div></description></item><item><title>Tko: The New Kubernetes Navigator</title><link>https://splunk.github.io/observability-workshop/v4.49/tko/session-5/docs/check-new-navigator/</link><pubDate>Mon, 01 Jan 0001 00:00:00 +0000</pubDate><guid>https://splunk.github.io/observability-workshop/v4.49/tko/session-5/docs/check-new-navigator/</guid><description>
&lt;h2 id="1-cluster-vs-workload-view">1. Cluster vs Workload View&lt;/h2>
&lt;p>The Kubernetes Navigator offers you two separate use cases to view your Kubernetes data.&lt;/p>
&lt;ul>
&lt;li>The &lt;code>K8s nodes&lt;/code> or Admin view is focusing on providing insight into the performance of Clusters, Nodes, Pods &amp;amp; Containers.&lt;/li>
&lt;li>The &lt;code>K8s workloads&lt;/code> or Developer view is focusing on providing information in regards to workloads a.k.a. &lt;em>your deployments&lt;/em>.&lt;/li>
&lt;/ul>
&lt;p>You initially select either view depending on your need (You can switch between the view on the fly if required)&lt;/p>
&lt;h2 id="2-the-k8s-nodes--cluster-pane">2 The K8s nodes &amp;amp; cluster Pane&lt;/h2>
&lt;p>Go to the &lt;strong>Infrastructure&lt;/strong> page in the Observability UI and select &lt;strong>Kubernetes&lt;/strong>, this will offer you a set of Kubernetes services. For this exercise pick the &lt;code>K8s nodes&lt;/code> pane.&lt;/p>
&lt;p>&lt;img src="../images/k8s-nodes.png" alt="k8s-cluster-pane">&lt;/p>
&lt;p>The first thing you notice is that the pane indicates how many kubernetes nodes are being monitored for you. The pane also shows a tiny graph for a birds eye view of the load being handled across those Nodes. Lastly, if there is a alert for one of the Nodes it will be highlighted here too as is shown above.&lt;/p>
&lt;p>Click or select on the pane and you will be taken to the &lt;code>Infrastructure/Kubernetes/K8s nodes&lt;/code> overview pane. Here you will find a map representation of all the Kubernetes clusters that are sending data to the Splunk Observability Cloud platform.&lt;/p>
&lt;h3 id="21-finding-your-k8s-cluster-name">2.1 Finding your K8s cluster name&lt;/h3>
&lt;p>Your first task is to identify and find your own cluster. The cluster will be named after your EC2 instance name: &lt;code>ws-5-X-k3s-cluster&lt;/code> where &lt;code>X&lt;/code> is the number of the EC2 instance assigned to you.&lt;/p>
&lt;p>To find your node name look at the prompt of your EC2 instance, assuming you are assigned the 7th EC2 instance the prompt will show&lt;/p>
&lt;div class="highlight">&lt;pre tabindex="0" style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">&lt;code class="language-bash" data-lang="bash">&lt;span style="display:flex;">&lt;span>ubuntu@ws-5-7 ~ $
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;p>This means your cluster is named: &lt;code>ws-5-7-k3s-cluster&lt;/code> make a note as you will need this later in the workshop as a filter.&lt;/p>
&lt;h3 id="22-the-k8s-cluster-map">2.2 The K8s Cluster Map&lt;/h3>
&lt;p>Initially, the cluster detail map will show you all the clusters reporting into your Observability Cloud Org. If an alert has fired for any of the clusters it will be highlighted on the top right, &lt;em>Marked with a red Stripe&lt;/em>. You can go directly to the alert by clicking on it and expanding it.&lt;/p>
&lt;p>There is also the Breadcrumbs, &lt;em>Marked with a yellow Arrow&lt;/em>. When you drill down deeper into your cluster, it will show drop down for all levels and you can use it to navigate up and down the cluster tree. (More on this later)&lt;/p>
&lt;p>&lt;img src="../images/nodeswithclusters.png" alt="k8s-cluster-map">&lt;/p>
&lt;p>In a production environment, you can expect to see different sizes of Clusters with different number of nodes. Each node in a cluster will be shown as individual pale blue square, when you drill down in a node you will see green squares which represent pods as represented below.&lt;/p>
&lt;p>&lt;img src="../images/cluster-node.png" alt="k8s-cluster-map">&lt;/p>
&lt;p>However in our workshop environment you each have a single node within your Cluster, represented by the large single blue square.&lt;/p>
&lt;p>Now, you can find your own Cluster by finding it by name or by filtering by using the field &lt;code>k8s.cluster.name&lt;/code> in the filter toolbar, &lt;em>(marked with a blue stripe)&lt;/em>.
You can enter a partial name into the search box such as &amp;lsquo;ws-5-7*&amp;rsquo;, to quickly find your Cluster. Also, its is a good idea to switch the default time from the default 3 hours back to 15 minutes.&lt;/p>
&lt;p>As soon as you found your cluster and its highlighted, and you are on the highest level you are in the nodes view view, the charts below show information on all the nodes in your cluster.&lt;/p>
&lt;div class="alert alert-success" role="alert">
&lt;p class="alert-heading">Workshop Question&lt;/p>
&lt;div class="alert-body">
&lt;p class="p-alert-body">
How much memory and how many CPU cores does our one node have?
&lt;/p>
&lt;/div>
&lt;/div>
&lt;p>You can switch to the Cluster View by selecting the &lt;em>K8s cluster&lt;/em> menu beneath the map view.
Here you can see the charts with the details of your Cluster(s).&lt;/p>
&lt;h3 id="23-the-nodes--cluster-views">2.3. The Nodes &amp;amp; Cluster views&lt;/h3>
&lt;p>Now drill down into your single Node by hovering over the pale blue background, then clicking on either the magnifying glass that appears in the top left corner, or double clicking on the pale blue background, this will take you to the Node level view. Note that the &lt;code>Breadcrumbs&lt;/code> has grown one level.&lt;/p>
&lt;p>You should now be able to see all the Pods and Containers running on your single Node Cluster.&lt;/p>
&lt;p>&lt;img src="../images/cluster-detail.png" alt="cluster-detail">&lt;/p>
&lt;p>As soon as you select your node in your cluster, you can see the overall performance of that node in the charts below.&lt;/p>
&lt;div class="alert alert-success" role="alert">
&lt;p class="alert-heading">Workshop Question&lt;/p>
&lt;div class="alert-body">
&lt;p class="p-alert-body">
How much pods are running on our node at this point?
&lt;/p>
&lt;/div>
&lt;/div>
&lt;h3 id="24-using-the-breadcrumbs">2.4. Using the Breadcrumbs&lt;/h3>
&lt;p>As you selected your Node you may notice that the &lt;code>Breadcrumbs&lt;/code> above the Map view is changing and showing more options.&lt;/p>
&lt;p>With the node selected, hunt in your node map for the pod for the &lt;em>splunk-otel-collector-agent&lt;/em> pod, and once found, select the &lt;em>otel-collector&lt;/em> container from that pod.&lt;/p>
&lt;p>Your Breadcrumbs above your Map view should look somewhat like this:&lt;/p>
&lt;p>&lt;img src="../images/crumbtrail.png" alt="Breadcrumbs">&lt;/p>
&lt;p>Note, you can walk back-up in the stack by clicking on the Pod, Node, Cluster &amp;amp; Service links to the level you want to be.&lt;/p>
&lt;div class="alert alert-success" role="alert">
&lt;p class="alert-heading">Workshop Question&lt;/p>
&lt;div class="alert-body">
&lt;p class="p-alert-body">
&lt;p>Which of the levels in the &lt;code>Breadcrumbs&lt;/code> provides &lt;code>Related Content&lt;/code> for logs?&lt;/p>
&lt;p>&lt;strong>Tip:&lt;/strong> You may need to refresh the screen a few time to refresh the log search data in the background.&lt;/p>
&lt;/p>
&lt;/div>
&lt;/div>
&lt;h2 id="3-workloads--workload-details-pane">3. Workloads &amp;amp; Workload Details Pane&lt;/h2>
&lt;p>You can switch to the &lt;code>K8s Workloads&lt;/code> view in two ways.&lt;/p>
&lt;p>Either go to the &lt;strong>Infrastructure&lt;/strong> menu item in the Observability UI and select &lt;strong>Kubernetes&lt;/strong> again,and pick the &lt;code>K8s workloads&lt;/code> pane or simply change the value in the &lt;code>Service&lt;/code> drop down box in the &lt;code>Breadcrumbs&lt;/code> from &lt;em>K8s nodes&lt;/em> to &lt;em>K8s workloads&lt;/em>&lt;/p>
&lt;p>&lt;img src="../images/K8s-Workloads.png" alt="k8sNode"> &lt;img src="../images/service-toggle.png" alt="k8sToggle">&lt;/p>
&lt;p>Initially, the workload view will show you all the workloads that are reported by your clusters into your Observability Cloud Org. If an alert has fired for any of the workloads it will be highlighted on the top right, &lt;em>Marked with a red Stripe&lt;/em>. You can go directly to the alert by clicking on it and expanding it.&lt;/p>
&lt;p>There is also the Breadcrumbs, &lt;em>Marked with a yellow Arrow&lt;/em>. When you drill down deeper into your workload, it will show drop down for all levels and you can use it to navigate up and down the workload tree.&lt;/p>
&lt;p>&lt;img src="../images/k8s-workload-screen.png" alt="Workloads">&lt;/p>
&lt;p>Now find your own Cluster by filtering by using the field &lt;code>k8s.cluster.name&lt;/code> in the filter toolbar, &lt;em>(marked with a blue stripe)&lt;/em>.
You can enter a partial name into the search box such as &amp;lsquo;ws-5-7*&amp;rsquo;, to quickly find your Cluster. Remember, its is a good idea to switch the default time from the default 3 hours back to 15 minutes.&lt;/p>
&lt;div class="alert alert-success" role="alert">
&lt;p class="alert-heading">Workshop Question&lt;/p>
&lt;div class="alert-body">
&lt;p class="p-alert-body">
How many workloads are running on your Cluster?
&lt;/p>
&lt;/div>
&lt;/div>
&lt;h3 id="31-using-the-navigator-selection-chart">3.1 Using the Navigator Selection chart&lt;/h3>
&lt;p>The K8s Selection chart is a common charts used across most of the Navigator&amp;rsquo;s and will offer you a list view of the Services you are looking at. In this case it shows a list of Failed pods grouped by &lt;code>k8s.namespace.name&lt;/code>
You will find that this pane is used in various navigators used in this workshop (Workloads &amp;amp; Apache Servers). The way the selection pane works is similar across the navigators. Just the information and selection criteria will match the chosen service.&lt;/p>
&lt;p>&lt;img src="../images/workload-selection.png" alt="k8s-workload-list">&lt;/p>
&lt;p>First, Select the &lt;code>File system usage (bytes)&lt;/code> from the &lt;strong>Color by&lt;/strong> drop down box &lt;em>Marked with a green line&lt;/em>, and Expand the Splunk Workload by clicking on the black triangle before the name splunk &lt;em>Marked by a black Arrow&lt;/em> as shown in the example above.&lt;/p>
&lt;p>Once you expand a workload, you will note that each workload row has a colored mark at the end of it row. These bars will change color according the &lt;code>color by&lt;/code> option, &lt;em>Marked by a green line&lt;/em>, these bars use colors to give a visual indication of health and/or usage.&lt;/p>
&lt;p>If there are many workloads, you can change the Result per page box &lt;em>Marked by an orange line&lt;/em>, to increase the list size. (It will also offer pagination if required)&lt;/p>
&lt;p>Next, you can change the the list view to a heat map view by selecting either the Heat map or List icon &lt;img src="../images/heatmaptoggle.png" alt="heat-map-toggle"> &lt;em>(Marked by a purple line).&lt;/em>&lt;/p>
&lt;p>This will result in the follow representation:&lt;/p>
&lt;p>&lt;img src="../images/heatmap.png" alt="k8s-Heat-map">&lt;/p>
&lt;p>This might be a useful view if you have many cluster as they can be grouped together using the group by option &lt;em>Marked by the green line&lt;/em>. The colors of each node will follow the color by choice similar to the list view.&lt;/p>
&lt;p>The last option, is the Find Outliers based on historical analytics of your clusters based on what is selected in the &lt;code>color by&lt;/code> box.&lt;/p>
&lt;p>Now click on the &lt;code>Find outliers&lt;/code> box &lt;em>Marked by a yellow Stripe&lt;/em> and make sure the dialog is set like below:&lt;/p>
&lt;p>&lt;img src="../images/set-find-outliers.png" alt="k8s-Heat-map">&lt;/p>
&lt;div class="alert alert-success" role="alert">
&lt;p class="alert-heading">Workshop Question&lt;/p>
&lt;div class="alert-body">
&lt;p class="p-alert-body">
What happens to the Heatmap?.
&lt;/p>
&lt;/div>
&lt;/div>
&lt;p>This view is used when you want to view all or a selection of your workloads (or any service depending on the navigator used). It will give you a quick insight which of your workloads are behaving differently than they do normally and may need further investigation.&lt;/p>
&lt;p>This is especially useful to detect items that are performing different (both increase or decreased) then usually.&lt;/p>
&lt;hr>
&lt;p>To get more detail on a specific Workload, simply click on its name in the Workload column (we assume you have the &amp;lsquo;splunk-otel-collector-agent&amp;rsquo; workload selected), this will open the side panel, then click the expand button &lt;img src="../images/expand-sidebar.png" alt="expand-sidebar.png"> to navigate to the Workload Detail Tab.&lt;/p>
&lt;p>This table provides lots of valuable insights into the state of your workloads, and will show you if any of them are not in their desired state.&lt;/p>
&lt;p>The default view has no Grouping applied but experiment with the various Group By options to see how the table changes. Note how you can also use the various fields in the top toolbar to filter the data displayed, this would be essential in a large environment with hundreds or even thousands of different Workloads.&lt;/p>
&lt;hr>
&lt;div class="alert alert-success" role="alert">
&lt;p class="alert-heading">Workshop Question&lt;/p>
&lt;div class="alert-body">
&lt;p class="p-alert-body">
&lt;p>Find your Cluster in the Observability Kubernetes Navigator, and identify the number of containers that are running at this point.&lt;/p>
&lt;p>&lt;strong>Tip:&lt;/strong> You may need to switch the Color By option to containers and refresh the screen a few times until the cluster data is correlated in the background. Also, it is recommended to set the time frame to be &lt;code>15m&lt;/code> (down from &lt;code>3h&lt;/code> which is default).&lt;/p>
&lt;/p>
&lt;/div>
&lt;/div>
&lt;hr>
&lt;h3 id="31-workload-detail-tab">3.1 Workload Detail tab&lt;/h3>
&lt;p>Here you will get the general info about your Workload, the CPU and Memory the Containers are consuming, the Pods and their Phase, details of any Events, and finally a list of Pods related to this Workload.&lt;/p>
&lt;p>As with the other Kubernetes Navigator views clicking on the name of a Pod within the table view will load the Side Panel with details about that resource, allowing you to &amp;lsquo;click through&amp;rsquo; to these resources. Select any of the listed Pods, then click the expand button &lt;img src="../images/expand-sidebar.png" alt="expand-sidebar.png"> to navigate to the Pod Detail Tab.&lt;/p>
&lt;div class="alert alert-success" role="alert">
&lt;p class="alert-heading">Workshop Question&lt;/p>
&lt;div class="alert-body">
&lt;p class="p-alert-body">
How many containers does the &lt;code>splunk-otel-collector-agent&lt;/code> Pod contain?
&lt;/p>
&lt;/div>
&lt;/div>
&lt;h2 id="4-pod-detail--container-details-tabs">4. Pod Detail &amp;amp; Container Details Tabs&lt;/h2>
&lt;p>The last two Tabs that make up the Kubernetes Navigator are Pod Detail and Container Detail. The Pod Detail view will show you the Pod Properties, CPU, Memory and Network usage along with any events relevant to the Pod.&lt;/p>
&lt;p>Clicking through to the Container Detail Tab, you should know how to do this by now, but just to play safe, select one of the Containers in the list then click the expand button &lt;img src="../images/expand-sidebar.png" alt="expand-sidebar.png"> to navigate to the Container Detail Tab.&lt;/p>
&lt;p>If you navigated straight to the Container Detail Tab by simply clicking on the Tab, try using the Container ID drop down to select a container, now you will see the benefit of &amp;lsquo;clicking through&amp;rsquo; to get to the desired Container!&lt;/p>
&lt;p>You can now see the details for the Selected Container, with the Container Properties pane offering lots of detail on its configuration.&lt;/p></description></item><item><title>Tko: Deploying PHP/Apache</title><link>https://splunk.github.io/observability-workshop/v4.49/tko/session-5/docs/deploy-apache/</link><pubDate>Mon, 01 Jan 0001 00:00:00 +0000</pubDate><guid>https://splunk.github.io/observability-workshop/v4.49/tko/session-5/docs/deploy-apache/</guid><description>
&lt;h2 id="1--dns-and-services-in-kubernetes">1. DNS and Services in Kubernetes&lt;/h2>
&lt;p>The Domain Name System (DNS) is a mechanism for linking various sorts of information with easy-to-remember names, such as IP addresses. Using a DNS system to translate request names into IP addresses makes it easy for end-users to reach their target domain name effortlessly.&lt;/p>
&lt;p>Most Kubernetes clusters include an internal DNS service configured by default to offer a lightweight approach for service discovery. Even when Pods and Services are created, deleted, or shifted between nodes, built-in service discovery simplifies applications to identify and communicate with services on the Kubernetes clusters.&lt;/p>
&lt;p>In short the DNS system for Kubernetes will create a DNS entry for each Pod and Service. In general a Pod has the following DNS resolution:&lt;/p>
&lt;div class="highlight">&lt;pre tabindex="0" style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">&lt;code class="language-text" data-lang="text">&lt;span style="display:flex;">&lt;span>pod-name.my-namespace.pod.cluster-domain.example
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;p>For example, if a Pod in the &lt;code>default&lt;/code> namespace has the Pod name &lt;code>my_pod&lt;/code>, and the domain name for your cluster is &lt;code>cluster.local&lt;/code>, then the Pod has a DNS name:&lt;/p>
&lt;div class="highlight">&lt;pre tabindex="0" style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">&lt;code class="language-text" data-lang="text">&lt;span style="display:flex;">&lt;span>my_pod.default.pod.cluster.local
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;p>Any Pods exposed by a Service have the following DNS resolution available:&lt;/p>
&lt;div class="highlight">&lt;pre tabindex="0" style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">&lt;code class="language-text" data-lang="text">&lt;span style="display:flex;">&lt;span>my_pod.service-name.my-namespace.svc.cluster-domain.example
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;p>More information can be found here : &lt;a href="https://kubernetes.io/docs/concepts/services-networking/dns-pod-service/" target="_blank">DNS for Service and Pods&lt;/a>
&lt;/p>
&lt;h2 id="2-review-otel-receiver-for-phpapache">2. Review OTel receiver for PHP/Apache&lt;/h2>
&lt;p>Inspect the YAML file &lt;code>~/workshop/k3s/otel-apache.yaml&lt;/code> and validate the contents. This file contains the configuration for the OpenTelemetry agent to monitor the PHP/Apache deployment.&lt;/p>
&lt;ul class="nav nav-tabs" id="tabs-0" role="tablist">
&lt;li class="nav-item">
&lt;a class="nav-link active persistLang-yaml"
id="tabs-00-00-tab" data-toggle="tab" href="#tabs-00-00" role="tab"
onclick="persistLang(&amp;#34;yaml&amp;#34;);"aria-controls="tabs-00-00" aria-selected="false">
~/workshop/k3s/otel-apache.yaml
&lt;/a>
&lt;/li>
&lt;/ul>
&lt;div class="tab-content" id="tabs-0-content">
&lt;div class="tab-pane fade show active"
id="tabs-00-00" role="tabpanel" aria-labelled-by="tabs-00-00-tab">
&lt;div class="highlight">&lt;pre tabindex="0" style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">&lt;code class="language-yaml" data-lang="yaml">&lt;span style="display:flex;">&lt;span>&lt;span style="color:#204a87;font-weight:bold">agent&lt;/span>&lt;span style="color:#000;font-weight:bold">:&lt;/span>&lt;span style="color:#f8f8f8;text-decoration:underline">
&lt;/span>&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#f8f8f8;text-decoration:underline"> &lt;/span>&lt;span style="color:#204a87;font-weight:bold">config&lt;/span>&lt;span style="color:#000;font-weight:bold">:&lt;/span>&lt;span style="color:#f8f8f8;text-decoration:underline">
&lt;/span>&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#f8f8f8;text-decoration:underline"> &lt;/span>&lt;span style="color:#204a87;font-weight:bold">receivers&lt;/span>&lt;span style="color:#000;font-weight:bold">:&lt;/span>&lt;span style="color:#f8f8f8;text-decoration:underline">
&lt;/span>&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#f8f8f8;text-decoration:underline"> &lt;/span>&lt;span style="color:#204a87;font-weight:bold">receiver_creator&lt;/span>&lt;span style="color:#000;font-weight:bold">:&lt;/span>&lt;span style="color:#f8f8f8;text-decoration:underline">
&lt;/span>&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#f8f8f8;text-decoration:underline"> &lt;/span>&lt;span style="color:#204a87;font-weight:bold">receivers&lt;/span>&lt;span style="color:#000;font-weight:bold">:&lt;/span>&lt;span style="color:#f8f8f8;text-decoration:underline">
&lt;/span>&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#f8f8f8;text-decoration:underline"> &lt;/span>&lt;span style="color:#204a87;font-weight:bold">smartagent/apache&lt;/span>&lt;span style="color:#000;font-weight:bold">:&lt;/span>&lt;span style="color:#f8f8f8;text-decoration:underline">
&lt;/span>&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#f8f8f8;text-decoration:underline"> &lt;/span>&lt;span style="color:#204a87;font-weight:bold">rule&lt;/span>&lt;span style="color:#000;font-weight:bold">:&lt;/span>&lt;span style="color:#f8f8f8;text-decoration:underline"> &lt;/span>&lt;span style="color:#000">type == &amp;#34;port&amp;#34; &amp;amp;&amp;amp; pod.name matches &amp;#34;apache&amp;#34; &amp;amp;&amp;amp; port == 80&lt;/span>&lt;span style="color:#f8f8f8;text-decoration:underline">
&lt;/span>&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#f8f8f8;text-decoration:underline"> &lt;/span>&lt;span style="color:#204a87;font-weight:bold">config&lt;/span>&lt;span style="color:#000;font-weight:bold">:&lt;/span>&lt;span style="color:#f8f8f8;text-decoration:underline">
&lt;/span>&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#f8f8f8;text-decoration:underline"> &lt;/span>&lt;span style="color:#204a87;font-weight:bold">type&lt;/span>&lt;span style="color:#000;font-weight:bold">:&lt;/span>&lt;span style="color:#f8f8f8;text-decoration:underline"> &lt;/span>&lt;span style="color:#000">collectd/apache&lt;/span>&lt;span style="color:#f8f8f8;text-decoration:underline">
&lt;/span>&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#f8f8f8;text-decoration:underline"> &lt;/span>&lt;span style="color:#204a87;font-weight:bold">url&lt;/span>&lt;span style="color:#000;font-weight:bold">:&lt;/span>&lt;span style="color:#f8f8f8;text-decoration:underline"> &lt;/span>&lt;span style="color:#000">http://php-apache-svc.apache.svc.cluster.local/server-status?auto&lt;/span>&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>
&lt;/div>
&lt;/div>
&lt;h2 id="3--observation-rules-in-the-opentelemetry-config">3. Observation Rules in the OpenTelemetry config&lt;/h2>
&lt;p>The above file contains an observation rule for Apache using the OTel &lt;code>receiver_creator&lt;/code>. This receiver can instantiate other receivers at runtime based on whether observed endpoints match a configured rule.&lt;/p>
&lt;p>The configured rules will be evaluated for each endpoint discovered. If the rule evaluates to true then the receiver for that rule will be started as configured against the matched endpoint.&lt;/p>
&lt;p>In the file above we tell the OpenTelemetry agent to look for Pods that match the name &lt;code>apache&lt;/code> and have port &lt;code>80&lt;/code> open. Once found, the agent will configure an Apache receiver to read Apache metrics from the configured URL. Note, the K8s DNS based URL in the above YAML for the service.&lt;/p>
&lt;p>To use the Apache configuration, you can upgrade the existing Splunk OpenTelemetry Collector Helm chart to use the &lt;code>otel-apache.yaml&lt;/code> file with the following command:&lt;/p>
&lt;ul class="nav nav-tabs" id="tabs-1" role="tablist">
&lt;li class="nav-item">
&lt;a class="nav-link active persistLang-text"
id="tabs-01-00-tab" data-toggle="tab" href="#tabs-01-00" role="tab"
onclick="persistLang(&amp;#34;text&amp;#34;);"aria-controls="tabs-01-00" aria-selected="false">
Helm Upgrade
&lt;/a>
&lt;/li>&lt;li class="nav-item">
&lt;a class="nav-link persistLang-bash"
id="tabs-01-01-tab" data-toggle="tab" href="#tabs-01-01" role="tab"
onclick="persistLang(&amp;#34;bash&amp;#34;);"aria-controls="tabs-01-01" aria-selected="false">
Helm Upgrade Single Line
&lt;/a>
&lt;/li>
&lt;/ul>
&lt;div class="tab-content" id="tabs-1-content">
&lt;div class="tab-pane fade show active"
id="tabs-01-00" role="tabpanel" aria-labelled-by="tabs-01-00-tab">
&lt;div class="highlight">&lt;pre tabindex="0" style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">&lt;code class="language-text" data-lang="text">&lt;span style="display:flex;">&lt;span>helm upgrade splunk-otel-collector \
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>--set=&amp;#34;splunkObservability.realm=$REALM&amp;#34; \
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>--set=&amp;#34;splunkObservability.accessToken=$ACCESS_TOKEN&amp;#34; \
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>--set=&amp;#34;clusterName=$(hostname)-k3s-cluster&amp;#34; \
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>--set=&amp;#34;splunkObservability.logsEnabled=true&amp;#34; \
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>--set=&amp;#34;splunkObservability.infrastructureMonitoringEventsEnabled=true&amp;#34; \
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>splunk-otel-collector-chart/splunk-otel-collector \
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>--namespace splunk \
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>-f ~/workshop/k3s/splunk-defaults.yaml \
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>-f ~/workshop/k3s/otel-apache.yaml&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>
&lt;/div>
&lt;div class="tab-pane fade"
id="tabs-01-01" role="tabpanel" aria-labelled-by="tabs-01-01-tab">
&lt;div class="highlight">&lt;pre tabindex="0" style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">&lt;code class="language-bash" data-lang="bash">&lt;span style="display:flex;">&lt;span>helm upgrade splunk-otel-collector --set&lt;span style="color:#ce5c00;font-weight:bold">=&lt;/span>&lt;span style="color:#4e9a06">&amp;#34;splunkObservability.realm=&lt;/span>&lt;span style="color:#000">$REALM&lt;/span>&lt;span style="color:#4e9a06">&amp;#34;&lt;/span> --set&lt;span style="color:#ce5c00;font-weight:bold">=&lt;/span>&lt;span style="color:#4e9a06">&amp;#34;splunkObservability.accessToken=&lt;/span>&lt;span style="color:#000">$ACCESS_TOKEN&lt;/span>&lt;span style="color:#4e9a06">&amp;#34;&lt;/span> --set&lt;span style="color:#ce5c00;font-weight:bold">=&lt;/span>&lt;span style="color:#4e9a06">&amp;#34;clusterName=&lt;/span>&lt;span style="color:#204a87;font-weight:bold">$(&lt;/span>hostname&lt;span style="color:#204a87;font-weight:bold">)&lt;/span>&lt;span style="color:#4e9a06">-k3s-cluster&amp;#34;&lt;/span> --set&lt;span style="color:#ce5c00;font-weight:bold">=&lt;/span>&lt;span style="color:#4e9a06">&amp;#34;splunkObservability.logsEnabled=true&amp;#34;&lt;/span> --set&lt;span style="color:#ce5c00;font-weight:bold">=&lt;/span>&lt;span style="color:#4e9a06">&amp;#34;clusterReceiver.eventsEnabled=true&amp;#34;&lt;/span> --set&lt;span style="color:#ce5c00;font-weight:bold">=&lt;/span>&lt;span style="color:#4e9a06">&amp;#34;splunkObservability.infrastructureMonitoringEventsEnabled=true&amp;#34;&lt;/span> splunk-otel-collector-chart/splunk-otel-collector --namespace splunk -f ~/workshop/k3s/splunk-defaults.yaml -f ~/workshop/k3s/otel-apache.yaml&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>
&lt;/div>
&lt;/div>
&lt;div class="alert alert-info" role="alert">
&lt;p class="alert-heading">Note&lt;/p>
&lt;div class="alert-body">
&lt;p class="p-alert-body">
&lt;p>The &lt;strong>REVISION&lt;/strong> number of the deployment has changed (a way to keep track of your changes).&lt;/p>
&lt;div class="highlight">&lt;pre tabindex="0" style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">&lt;code class="language-text" data-lang="text">&lt;span style="display:flex;">&lt;span>Release &amp;#34;splunk-otel-collector&amp;#34; has been upgraded. Happy Helming!
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>NAME: splunk-otel-collector
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>LAST DEPLOYED: Tue Jan 31 16:57:22 2023
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>NAMESPACE: splunk
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>STATUS: deployed
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>REVISION: 2
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>TEST SUITE: None
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>
&lt;/p>
&lt;/div>
&lt;/div>
&lt;h2 id="4-kubernetes-configmaps">4. Kubernetes ConfigMaps&lt;/h2>
&lt;p>A ConfigMap is an object in Kubernetes consisting of key-value pairs which can be injected into your application. With a ConfigMap you can separate configuration from your Pods.&lt;/p>
&lt;p>This way, you can prevent hardcoding configuration data. ConfigMaps are useful for storing and sharing non-sensitive, unencrypted configuration information.&lt;/p>
&lt;p>The OpenTelemetry collector/agent uses ConfigMaps to store the configuration of the agent and the K8s Cluster receiver. You can/will always verify the current configuration of an agent after a change by running the following commands:&lt;/p>
&lt;div class="highlight">&lt;pre tabindex="0" style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">&lt;code class="language-bash" data-lang="bash">&lt;span style="display:flex;">&lt;span>kubectl get cm -n splunk
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>
&lt;div class="alert alert-success" role="alert">
&lt;p class="alert-heading">Workshop Question&lt;/p>
&lt;div class="alert-body">
&lt;p class="p-alert-body">
How many ConfigMaps are used by the collector?
&lt;/p>
&lt;/div>
&lt;/div>
&lt;p>When you have list of ConfigMaps from the namespace, select the one for the &lt;code>otel-agent&lt;/code> and view it with the following command:&lt;/p>
&lt;p>&lt;strong>Note:&lt;/strong> The option &lt;code>-o yaml&lt;/code> will print the content of the ConfigMap in a YAML format.&lt;/p>
&lt;div class="highlight">&lt;pre tabindex="0" style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">&lt;code class="language-bash" data-lang="bash">&lt;span style="display:flex;">&lt;span>kubectl get cm splunk-otel-collector-otel-agent -n splunk -o yaml
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>
&lt;div class="alert alert-success" role="alert">
&lt;p class="alert-heading">Workshop Question&lt;/p>
&lt;div class="alert-body">
&lt;p class="p-alert-body">
Is the content of &lt;code>otel-apache.yaml&lt;/code> saved in the ConfigMap for the collector agent?
&lt;/p>
&lt;/div>
&lt;/div>
&lt;h2 id="5-review-phpapache-deployment-yaml">5. Review PHP/Apache deployment YAML&lt;/h2>
&lt;p>Inspect the YAML file &lt;code>~/workshop/k3s/php-apache.yaml&lt;/code> and validate the contents. This file contains the configuration for the PHP/Apache deployment and will create a new StatefulSet with a single replica of the PHP/Apache image.&lt;/p>
&lt;p>A stateless application is one that does not care which network it is using, and it does not need permanent storage. Examples of stateless apps may include web servers (Apache, Nginx, or Tomcat).&lt;/p>
&lt;ul class="nav nav-tabs" id="tabs-5" role="tablist">
&lt;li class="nav-item">
&lt;a class="nav-link active persistLang-yaml"
id="tabs-05-00-tab" data-toggle="tab" href="#tabs-05-00" role="tab"
onclick="persistLang(&amp;#34;yaml&amp;#34;);"aria-controls="tabs-05-00" aria-selected="false">
~/workshop/k3s/php-apache.yaml
&lt;/a>
&lt;/li>
&lt;/ul>
&lt;div class="tab-content" id="tabs-5-content">
&lt;div class="tab-pane fade show active"
id="tabs-05-00" role="tabpanel" aria-labelled-by="tabs-05-00-tab">
&lt;div class="highlight">&lt;pre tabindex="0" style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">&lt;code class="language-yaml" data-lang="yaml">&lt;span style="display:flex;">&lt;span>&lt;span style="color:#204a87;font-weight:bold">apiVersion&lt;/span>&lt;span style="color:#000;font-weight:bold">:&lt;/span>&lt;span style="color:#f8f8f8;text-decoration:underline"> &lt;/span>&lt;span style="color:#000">apps/v1&lt;/span>&lt;span style="color:#f8f8f8;text-decoration:underline">
&lt;/span>&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#f8f8f8;text-decoration:underline">&lt;/span>&lt;span style="color:#204a87;font-weight:bold">kind&lt;/span>&lt;span style="color:#000;font-weight:bold">:&lt;/span>&lt;span style="color:#f8f8f8;text-decoration:underline"> &lt;/span>&lt;span style="color:#000">StatefulSet&lt;/span>&lt;span style="color:#f8f8f8;text-decoration:underline">
&lt;/span>&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#f8f8f8;text-decoration:underline">&lt;/span>&lt;span style="color:#204a87;font-weight:bold">metadata&lt;/span>&lt;span style="color:#000;font-weight:bold">:&lt;/span>&lt;span style="color:#f8f8f8;text-decoration:underline">
&lt;/span>&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#f8f8f8;text-decoration:underline"> &lt;/span>&lt;span style="color:#204a87;font-weight:bold">name&lt;/span>&lt;span style="color:#000;font-weight:bold">:&lt;/span>&lt;span style="color:#f8f8f8;text-decoration:underline"> &lt;/span>&lt;span style="color:#000">php-apache&lt;/span>&lt;span style="color:#f8f8f8;text-decoration:underline">
&lt;/span>&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#f8f8f8;text-decoration:underline">&lt;/span>&lt;span style="color:#204a87;font-weight:bold">spec&lt;/span>&lt;span style="color:#000;font-weight:bold">:&lt;/span>&lt;span style="color:#f8f8f8;text-decoration:underline">
&lt;/span>&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#f8f8f8;text-decoration:underline"> &lt;/span>&lt;span style="color:#204a87;font-weight:bold">updateStrategy&lt;/span>&lt;span style="color:#000;font-weight:bold">:&lt;/span>&lt;span style="color:#f8f8f8;text-decoration:underline">
&lt;/span>&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#f8f8f8;text-decoration:underline"> &lt;/span>&lt;span style="color:#204a87;font-weight:bold">type&lt;/span>&lt;span style="color:#000;font-weight:bold">:&lt;/span>&lt;span style="color:#f8f8f8;text-decoration:underline"> &lt;/span>&lt;span style="color:#000">RollingUpdate&lt;/span>&lt;span style="color:#f8f8f8;text-decoration:underline">
&lt;/span>&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#f8f8f8;text-decoration:underline"> &lt;/span>&lt;span style="color:#204a87;font-weight:bold">selector&lt;/span>&lt;span style="color:#000;font-weight:bold">:&lt;/span>&lt;span style="color:#f8f8f8;text-decoration:underline">
&lt;/span>&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#f8f8f8;text-decoration:underline"> &lt;/span>&lt;span style="color:#204a87;font-weight:bold">matchLabels&lt;/span>&lt;span style="color:#000;font-weight:bold">:&lt;/span>&lt;span style="color:#f8f8f8;text-decoration:underline">
&lt;/span>&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#f8f8f8;text-decoration:underline"> &lt;/span>&lt;span style="color:#204a87;font-weight:bold">run&lt;/span>&lt;span style="color:#000;font-weight:bold">:&lt;/span>&lt;span style="color:#f8f8f8;text-decoration:underline"> &lt;/span>&lt;span style="color:#000">php-apache&lt;/span>&lt;span style="color:#f8f8f8;text-decoration:underline">
&lt;/span>&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#f8f8f8;text-decoration:underline"> &lt;/span>&lt;span style="color:#204a87;font-weight:bold">replicas&lt;/span>&lt;span style="color:#000;font-weight:bold">:&lt;/span>&lt;span style="color:#f8f8f8;text-decoration:underline"> &lt;/span>&lt;span style="color:#0000cf;font-weight:bold">1&lt;/span>&lt;span style="color:#f8f8f8;text-decoration:underline">
&lt;/span>&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#f8f8f8;text-decoration:underline"> &lt;/span>&lt;span style="color:#204a87;font-weight:bold">template&lt;/span>&lt;span style="color:#000;font-weight:bold">:&lt;/span>&lt;span style="color:#f8f8f8;text-decoration:underline">
&lt;/span>&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#f8f8f8;text-decoration:underline"> &lt;/span>&lt;span style="color:#204a87;font-weight:bold">metadata&lt;/span>&lt;span style="color:#000;font-weight:bold">:&lt;/span>&lt;span style="color:#f8f8f8;text-decoration:underline">
&lt;/span>&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#f8f8f8;text-decoration:underline"> &lt;/span>&lt;span style="color:#204a87;font-weight:bold">labels&lt;/span>&lt;span style="color:#000;font-weight:bold">:&lt;/span>&lt;span style="color:#f8f8f8;text-decoration:underline">
&lt;/span>&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#f8f8f8;text-decoration:underline"> &lt;/span>&lt;span style="color:#204a87;font-weight:bold">run&lt;/span>&lt;span style="color:#000;font-weight:bold">:&lt;/span>&lt;span style="color:#f8f8f8;text-decoration:underline"> &lt;/span>&lt;span style="color:#000">php-apache&lt;/span>&lt;span style="color:#f8f8f8;text-decoration:underline">
&lt;/span>&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#f8f8f8;text-decoration:underline"> &lt;/span>&lt;span style="color:#204a87;font-weight:bold">spec&lt;/span>&lt;span style="color:#000;font-weight:bold">:&lt;/span>&lt;span style="color:#f8f8f8;text-decoration:underline">
&lt;/span>&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#f8f8f8;text-decoration:underline"> &lt;/span>&lt;span style="color:#204a87;font-weight:bold">containers&lt;/span>&lt;span style="color:#000;font-weight:bold">:&lt;/span>&lt;span style="color:#f8f8f8;text-decoration:underline">
&lt;/span>&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#f8f8f8;text-decoration:underline"> &lt;/span>- &lt;span style="color:#204a87;font-weight:bold">name&lt;/span>&lt;span style="color:#000;font-weight:bold">:&lt;/span>&lt;span style="color:#f8f8f8;text-decoration:underline"> &lt;/span>&lt;span style="color:#000">php-apache&lt;/span>&lt;span style="color:#f8f8f8;text-decoration:underline">
&lt;/span>&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#f8f8f8;text-decoration:underline"> &lt;/span>&lt;span style="color:#204a87;font-weight:bold">image&lt;/span>&lt;span style="color:#000;font-weight:bold">:&lt;/span>&lt;span style="color:#f8f8f8;text-decoration:underline"> &lt;/span>&lt;span style="color:#000">ghcr.io/splunk/php-apache:latest&lt;/span>&lt;span style="color:#f8f8f8;text-decoration:underline">
&lt;/span>&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#f8f8f8;text-decoration:underline"> &lt;/span>&lt;span style="color:#204a87;font-weight:bold">ports&lt;/span>&lt;span style="color:#000;font-weight:bold">:&lt;/span>&lt;span style="color:#f8f8f8;text-decoration:underline">
&lt;/span>&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#f8f8f8;text-decoration:underline"> &lt;/span>- &lt;span style="color:#204a87;font-weight:bold">containerPort&lt;/span>&lt;span style="color:#000;font-weight:bold">:&lt;/span>&lt;span style="color:#f8f8f8;text-decoration:underline"> &lt;/span>&lt;span style="color:#0000cf;font-weight:bold">80&lt;/span>&lt;span style="color:#f8f8f8;text-decoration:underline">
&lt;/span>&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#f8f8f8;text-decoration:underline"> &lt;/span>&lt;span style="color:#204a87;font-weight:bold">resources&lt;/span>&lt;span style="color:#000;font-weight:bold">:&lt;/span>&lt;span style="color:#f8f8f8;text-decoration:underline">
&lt;/span>&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#f8f8f8;text-decoration:underline"> &lt;/span>&lt;span style="color:#204a87;font-weight:bold">limits&lt;/span>&lt;span style="color:#000;font-weight:bold">:&lt;/span>&lt;span style="color:#f8f8f8;text-decoration:underline">
&lt;/span>&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#f8f8f8;text-decoration:underline"> &lt;/span>&lt;span style="color:#204a87;font-weight:bold">cpu&lt;/span>&lt;span style="color:#000;font-weight:bold">:&lt;/span>&lt;span style="color:#f8f8f8;text-decoration:underline"> &lt;/span>&lt;span style="color:#4e9a06">&amp;#34;8&amp;#34;&lt;/span>&lt;span style="color:#f8f8f8;text-decoration:underline">
&lt;/span>&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#f8f8f8;text-decoration:underline"> &lt;/span>&lt;span style="color:#204a87;font-weight:bold">memory&lt;/span>&lt;span style="color:#000;font-weight:bold">:&lt;/span>&lt;span style="color:#f8f8f8;text-decoration:underline"> &lt;/span>&lt;span style="color:#4e9a06">&amp;#34;9Mi&amp;#34;&lt;/span>&lt;span style="color:#f8f8f8;text-decoration:underline">
&lt;/span>&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#f8f8f8;text-decoration:underline"> &lt;/span>&lt;span style="color:#204a87;font-weight:bold">requests&lt;/span>&lt;span style="color:#000;font-weight:bold">:&lt;/span>&lt;span style="color:#f8f8f8;text-decoration:underline">
&lt;/span>&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#f8f8f8;text-decoration:underline"> &lt;/span>&lt;span style="color:#204a87;font-weight:bold">cpu&lt;/span>&lt;span style="color:#000;font-weight:bold">:&lt;/span>&lt;span style="color:#f8f8f8;text-decoration:underline"> &lt;/span>&lt;span style="color:#4e9a06">&amp;#34;6&amp;#34;&lt;/span>&lt;span style="color:#f8f8f8;text-decoration:underline">
&lt;/span>&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#f8f8f8;text-decoration:underline"> &lt;/span>&lt;span style="color:#204a87;font-weight:bold">memory&lt;/span>&lt;span style="color:#000;font-weight:bold">:&lt;/span>&lt;span style="color:#f8f8f8;text-decoration:underline"> &lt;/span>&lt;span style="color:#4e9a06">&amp;#34;4Mi&amp;#34;&lt;/span>&lt;span style="color:#f8f8f8;text-decoration:underline">
&lt;/span>&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#f8f8f8;text-decoration:underline">
&lt;/span>&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#f8f8f8;text-decoration:underline">&lt;/span>&lt;span style="color:#000">---&lt;/span>&lt;span style="color:#f8f8f8;text-decoration:underline">
&lt;/span>&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#f8f8f8;text-decoration:underline">&lt;/span>&lt;span style="color:#204a87;font-weight:bold">apiVersion&lt;/span>&lt;span style="color:#000;font-weight:bold">:&lt;/span>&lt;span style="color:#f8f8f8;text-decoration:underline"> &lt;/span>&lt;span style="color:#000">v1&lt;/span>&lt;span style="color:#f8f8f8;text-decoration:underline">
&lt;/span>&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#f8f8f8;text-decoration:underline">&lt;/span>&lt;span style="color:#204a87;font-weight:bold">kind&lt;/span>&lt;span style="color:#000;font-weight:bold">:&lt;/span>&lt;span style="color:#f8f8f8;text-decoration:underline"> &lt;/span>&lt;span style="color:#000">Service&lt;/span>&lt;span style="color:#f8f8f8;text-decoration:underline">
&lt;/span>&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#f8f8f8;text-decoration:underline">&lt;/span>&lt;span style="color:#204a87;font-weight:bold">metadata&lt;/span>&lt;span style="color:#000;font-weight:bold">:&lt;/span>&lt;span style="color:#f8f8f8;text-decoration:underline">
&lt;/span>&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#f8f8f8;text-decoration:underline"> &lt;/span>&lt;span style="color:#204a87;font-weight:bold">name&lt;/span>&lt;span style="color:#000;font-weight:bold">:&lt;/span>&lt;span style="color:#f8f8f8;text-decoration:underline"> &lt;/span>&lt;span style="color:#000">php-apache-svc&lt;/span>&lt;span style="color:#f8f8f8;text-decoration:underline">
&lt;/span>&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#f8f8f8;text-decoration:underline"> &lt;/span>&lt;span style="color:#204a87;font-weight:bold">labels&lt;/span>&lt;span style="color:#000;font-weight:bold">:&lt;/span>&lt;span style="color:#f8f8f8;text-decoration:underline">
&lt;/span>&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#f8f8f8;text-decoration:underline"> &lt;/span>&lt;span style="color:#204a87;font-weight:bold">run&lt;/span>&lt;span style="color:#000;font-weight:bold">:&lt;/span>&lt;span style="color:#f8f8f8;text-decoration:underline"> &lt;/span>&lt;span style="color:#000">php-apache&lt;/span>&lt;span style="color:#f8f8f8;text-decoration:underline">
&lt;/span>&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#f8f8f8;text-decoration:underline">&lt;/span>&lt;span style="color:#204a87;font-weight:bold">spec&lt;/span>&lt;span style="color:#000;font-weight:bold">:&lt;/span>&lt;span style="color:#f8f8f8;text-decoration:underline">
&lt;/span>&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#f8f8f8;text-decoration:underline"> &lt;/span>&lt;span style="color:#204a87;font-weight:bold">ports&lt;/span>&lt;span style="color:#000;font-weight:bold">:&lt;/span>&lt;span style="color:#f8f8f8;text-decoration:underline">
&lt;/span>&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#f8f8f8;text-decoration:underline"> &lt;/span>- &lt;span style="color:#204a87;font-weight:bold">port&lt;/span>&lt;span style="color:#000;font-weight:bold">:&lt;/span>&lt;span style="color:#f8f8f8;text-decoration:underline"> &lt;/span>&lt;span style="color:#0000cf;font-weight:bold">80&lt;/span>&lt;span style="color:#f8f8f8;text-decoration:underline">
&lt;/span>&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#f8f8f8;text-decoration:underline"> &lt;/span>&lt;span style="color:#204a87;font-weight:bold">selector&lt;/span>&lt;span style="color:#000;font-weight:bold">:&lt;/span>&lt;span style="color:#f8f8f8;text-decoration:underline">
&lt;/span>&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#f8f8f8;text-decoration:underline"> &lt;/span>&lt;span style="color:#204a87;font-weight:bold">run&lt;/span>&lt;span style="color:#000;font-weight:bold">:&lt;/span>&lt;span style="color:#f8f8f8;text-decoration:underline"> &lt;/span>&lt;span style="color:#000">php-apache&lt;/span>&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>
&lt;/div>
&lt;/div>
&lt;h2 id="6-deploy-phpapache">6. Deploy PHP/Apache&lt;/h2>
&lt;p>Save the above file and deploy the PHP/Apache application to the cluster.&lt;/p>
&lt;p>Create the &lt;code>apache&lt;/code> namespace:&lt;/p>
&lt;div class="highlight">&lt;pre tabindex="0" style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">&lt;code class="language-bash" data-lang="bash">&lt;span style="display:flex;">&lt;span>kubectl create namespace apache
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;p>Deploy the PHP/Apache application:&lt;/p>
&lt;div class="highlight">&lt;pre tabindex="0" style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">&lt;code class="language-bash" data-lang="bash">&lt;span style="display:flex;">&lt;span>kubectl apply -f ~/workshop/k3s/php-apache.yaml -n apache
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;p>Ensure the deployment has been created:&lt;/p>
&lt;div class="highlight">&lt;pre tabindex="0" style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">&lt;code class="language-bash" data-lang="bash">&lt;span style="display:flex;">&lt;span>kubectl get statefulset -n apache
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>
&lt;div class="alert alert-success" role="alert">
&lt;p class="alert-heading">Workshop Question&lt;/p>
&lt;div class="alert-body">
&lt;p class="p-alert-body">
What metrics for your Apache instance are being reported in the Apache Dashboard?
&lt;/p>
&lt;/div>
&lt;/div>
&lt;div class="alert alert-success" role="alert">
&lt;p class="alert-heading">Workshop Question&lt;/p>
&lt;div class="alert-body">
&lt;p class="p-alert-body">
&lt;p>Using the Observability Kubernetes Navigator, can you find the status of the &lt;code>php-apache-0&lt;/code> pod in &lt;strong>Workload Detail&lt;/strong>?&lt;/p>
&lt;p>&lt;strong>HINT:&lt;/strong> Filter by &lt;code>k8s.cluster.name&lt;/code> to isolate your instance!&lt;/p>
&lt;/p>
&lt;/div>
&lt;/div>
&lt;div class="alert alert-success" role="alert">
&lt;p class="alert-heading">Workshop Question&lt;/p>
&lt;div class="alert-body">
&lt;p class="p-alert-body">
&lt;p>Where else has the issue with &lt;code>php-apache&lt;/code> been logged? What is being reported?&lt;/p>
&lt;p>&lt;strong>HINT:&lt;/strong> Use &lt;code>event.name = php-apache*&lt;/code> as &lt;strong>one&lt;/strong> of your filters to isolate your instance!&lt;/p>
&lt;/p>
&lt;/div>
&lt;/div></description></item><item><title>Tko: Fix PHP/Apache Issue</title><link>https://splunk.github.io/observability-workshop/v4.49/tko/session-5/docs/fix-apache/</link><pubDate>Mon, 01 Jan 0001 00:00:00 +0000</pubDate><guid>https://splunk.github.io/observability-workshop/v4.49/tko/session-5/docs/fix-apache/</guid><description>
&lt;h2 id="1-kubernetes-resources">1. Kubernetes Resources&lt;/h2>
&lt;p>Especially in Production Kubernetes Clusters, CPU and Memory are considered precious resources. And the Cluster operators will normally require you to specify in the deployment the amount of CPU and Memory your Pod or Service will require, so they can have the Cluster automatically manage on which Node(s) your solution will be placed.&lt;/p>
&lt;p>You do this by placing a Resource section in the deployment of you application/Pod&lt;/p>
&lt;p>&lt;strong>Example:&lt;/strong>&lt;/p>
&lt;div class="highlight">&lt;pre tabindex="0" style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">&lt;code class="language-yaml" data-lang="yaml">&lt;span style="display:flex;">&lt;span>&lt;span style="color:#204a87;font-weight:bold">resources&lt;/span>&lt;span style="color:#000;font-weight:bold">:&lt;/span>&lt;span style="color:#f8f8f8;text-decoration:underline">
&lt;/span>&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#f8f8f8;text-decoration:underline"> &lt;/span>&lt;span style="color:#204a87;font-weight:bold">limits&lt;/span>&lt;span style="color:#000;font-weight:bold">:&lt;/span>&lt;span style="color:#f8f8f8;text-decoration:underline"> &lt;/span>&lt;span style="color:#8f5902;font-style:italic"># Maximum amount of CPU &amp;amp; memory for peek use&lt;/span>&lt;span style="color:#f8f8f8;text-decoration:underline">
&lt;/span>&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#f8f8f8;text-decoration:underline"> &lt;/span>&lt;span style="color:#204a87;font-weight:bold">cpu&lt;/span>&lt;span style="color:#000;font-weight:bold">:&lt;/span>&lt;span style="color:#f8f8f8;text-decoration:underline"> &lt;/span>&lt;span style="color:#4e9a06">&amp;#34;8&amp;#34;&lt;/span>&lt;span style="color:#f8f8f8;text-decoration:underline"> &lt;/span>&lt;span style="color:#8f5902;font-style:italic"># Maximum of 8 cores of CPU allowed at for peek use&lt;/span>&lt;span style="color:#f8f8f8;text-decoration:underline">
&lt;/span>&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#f8f8f8;text-decoration:underline"> &lt;/span>&lt;span style="color:#204a87;font-weight:bold">memory&lt;/span>&lt;span style="color:#000;font-weight:bold">:&lt;/span>&lt;span style="color:#f8f8f8;text-decoration:underline"> &lt;/span>&lt;span style="color:#4e9a06">&amp;#34;9Mi&amp;#34;&lt;/span>&lt;span style="color:#f8f8f8;text-decoration:underline"> &lt;/span>&lt;span style="color:#8f5902;font-style:italic"># Maximum allowed 9Mb of memory&lt;/span>&lt;span style="color:#f8f8f8;text-decoration:underline">
&lt;/span>&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#f8f8f8;text-decoration:underline"> &lt;/span>&lt;span style="color:#204a87;font-weight:bold">requests&lt;/span>&lt;span style="color:#000;font-weight:bold">:&lt;/span>&lt;span style="color:#f8f8f8;text-decoration:underline"> &lt;/span>&lt;span style="color:#8f5902;font-style:italic"># Request are the expected amount of CPU &amp;amp; memory for normal use&lt;/span>&lt;span style="color:#f8f8f8;text-decoration:underline">
&lt;/span>&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#f8f8f8;text-decoration:underline"> &lt;/span>&lt;span style="color:#204a87;font-weight:bold">cpu&lt;/span>&lt;span style="color:#000;font-weight:bold">:&lt;/span>&lt;span style="color:#f8f8f8;text-decoration:underline"> &lt;/span>&lt;span style="color:#4e9a06">&amp;#34;6&amp;#34;&lt;/span>&lt;span style="color:#f8f8f8;text-decoration:underline"> &lt;/span>&lt;span style="color:#8f5902;font-style:italic"># Requesting 4 cores of a CPU&lt;/span>&lt;span style="color:#f8f8f8;text-decoration:underline">
&lt;/span>&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#f8f8f8;text-decoration:underline"> &lt;/span>&lt;span style="color:#204a87;font-weight:bold">memory&lt;/span>&lt;span style="color:#000;font-weight:bold">:&lt;/span>&lt;span style="color:#f8f8f8;text-decoration:underline"> &lt;/span>&lt;span style="color:#4e9a06">&amp;#34;4Mi&amp;#34;&lt;/span>&lt;span style="color:#f8f8f8;text-decoration:underline"> &lt;/span>&lt;span style="color:#8f5902;font-style:italic"># Requesting 4Mb of memory&lt;/span>&lt;span style="color:#f8f8f8;text-decoration:underline">
&lt;/span>&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;p>More information can be found here : &lt;a href="https://kubernetes.io/docs/concepts/configuration/manage-resources-containers/" target="_blank">Resource Management for Pods and Containers&lt;/a>
&lt;/p>
&lt;p>If your application or Pod will go over the limits set in your deployment, Kubernetes will kill and restart your Pod to protect the other applications on the Cluster.&lt;/p>
&lt;p>Another scenario that you will run into is when there is not enough Memory or CPU on a Node. In that case, the Cluster will try to reschedule your Pod(s) on a different Node with more space.&lt;/p>
&lt;p>If that fails, or if there is not enough space when you deploy your application, the Cluster will put your workload/deployment in schedule mode until there is enough room on any of the available Nodes to deploy the Pods according their limits.&lt;/p>
&lt;h2 id="2-fix-phpapache-deployment">2. Fix PHP/Apache Deployment&lt;/h2>
&lt;div class="alert alert-success" role="alert">
&lt;p class="alert-heading">Workshop Question&lt;/p>
&lt;div class="alert-body">
&lt;p class="p-alert-body">
Before we start, let&amp;rsquo;s check the current status of the PHP/Apache deployment. Under &lt;strong>Alerts &amp;amp; Detectors&lt;/strong> which detector has fired? Where else can you find this information?
&lt;/p>
&lt;/div>
&lt;/div>
&lt;p>To fix the PHP/Apache StatefulSet, edit &lt;code>~/workshop/k3s/php-apache.yaml&lt;/code> and reduce the CPU resources further:&lt;/p>
&lt;p>Find the resources section and reduce the CPU limits to &lt;strong>1&lt;/strong> and the CPU requests to &lt;strong>0.5&lt;/strong>:&lt;/p>
&lt;div class="highlight">&lt;pre tabindex="0" style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">&lt;code class="language-yaml" data-lang="yaml">&lt;span style="display:flex;">&lt;span>&lt;span style="color:#204a87;font-weight:bold">resources&lt;/span>&lt;span style="color:#000;font-weight:bold">:&lt;/span>&lt;span style="color:#f8f8f8;text-decoration:underline">
&lt;/span>&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#f8f8f8;text-decoration:underline"> &lt;/span>&lt;span style="color:#204a87;font-weight:bold">limits&lt;/span>&lt;span style="color:#000;font-weight:bold">:&lt;/span>&lt;span style="color:#f8f8f8;text-decoration:underline">
&lt;/span>&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#f8f8f8;text-decoration:underline"> &lt;/span>&lt;span style="color:#204a87;font-weight:bold">cpu&lt;/span>&lt;span style="color:#000;font-weight:bold">:&lt;/span>&lt;span style="color:#f8f8f8;text-decoration:underline"> &lt;/span>&lt;span style="color:#4e9a06">&amp;#34;1&amp;#34;&lt;/span>&lt;span style="color:#f8f8f8;text-decoration:underline">
&lt;/span>&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#f8f8f8;text-decoration:underline"> &lt;/span>&lt;span style="color:#204a87;font-weight:bold">memory&lt;/span>&lt;span style="color:#000;font-weight:bold">:&lt;/span>&lt;span style="color:#f8f8f8;text-decoration:underline"> &lt;/span>&lt;span style="color:#4e9a06">&amp;#34;9Mi&amp;#34;&lt;/span>&lt;span style="color:#f8f8f8;text-decoration:underline">
&lt;/span>&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#f8f8f8;text-decoration:underline"> &lt;/span>&lt;span style="color:#204a87;font-weight:bold">requests&lt;/span>&lt;span style="color:#000;font-weight:bold">:&lt;/span>&lt;span style="color:#f8f8f8;text-decoration:underline">
&lt;/span>&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#f8f8f8;text-decoration:underline"> &lt;/span>&lt;span style="color:#204a87;font-weight:bold">cpu&lt;/span>&lt;span style="color:#000;font-weight:bold">:&lt;/span>&lt;span style="color:#f8f8f8;text-decoration:underline"> &lt;/span>&lt;span style="color:#4e9a06">&amp;#34;0.5&amp;#34;&lt;/span>&lt;span style="color:#f8f8f8;text-decoration:underline">
&lt;/span>&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#f8f8f8;text-decoration:underline"> &lt;/span>&lt;span style="color:#204a87;font-weight:bold">memory&lt;/span>&lt;span style="color:#000;font-weight:bold">:&lt;/span>&lt;span style="color:#f8f8f8;text-decoration:underline"> &lt;/span>&lt;span style="color:#4e9a06">&amp;#34;4Mi&amp;#34;&lt;/span>&lt;span style="color:#f8f8f8;text-decoration:underline">
&lt;/span>&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;p>Save the above changes. Now, we must delete the existing StatefulSet and re-create it. StatefulSets are immutable, so we must delete the existing one and re-create it with the new changes.&lt;/p>
&lt;div class="highlight">&lt;pre tabindex="0" style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">&lt;code class="language-bash" data-lang="bash">&lt;span style="display:flex;">&lt;span>kubectl delete statefulset php-apache -n apache
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;div class="highlight">&lt;pre tabindex="0" style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">&lt;code class="language-bash" data-lang="bash">&lt;span style="display:flex;">&lt;span>kubectl apply -f ~/workshop/k3s/php-apache.yaml -n apache
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;h2 id="3-validate-the-changes">3. Validate the changes&lt;/h2>
&lt;p>You can validate the changes have been applied by running the following command:&lt;/p>
&lt;div class="highlight">&lt;pre tabindex="0" style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">&lt;code class="language-bash" data-lang="bash">&lt;span style="display:flex;">&lt;span>kubectl describe statefulset php-apache -n apache
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;p>Validate the Pod is now running in Splunk Observability Cloud.&lt;/p>
&lt;div class="alert alert-success" role="alert">
&lt;p class="alert-heading">Workshop Question&lt;/p>
&lt;div class="alert-body">
&lt;p class="p-alert-body">
&lt;p>Is the &lt;strong>Apache Web Servers&lt;/strong> dashboard showing any data now?&lt;/p>
&lt;p>&lt;strong>Tip:&lt;/strong> Don&amp;rsquo;t forget to use filters and time frames to narrow down your data.&lt;/p>
&lt;/p>
&lt;/div>
&lt;/div>
&lt;div class="alert alert-success" role="alert">
&lt;p class="alert-heading">Workshop Question&lt;/p>
&lt;div class="alert-body">
&lt;p class="p-alert-body">
Another Auto-Detect Detector has fired, which one is it this time?
&lt;/p>
&lt;/div>
&lt;/div>
&lt;h2 id="4-fix-memory-issue">4. Fix memory issue&lt;/h2>
&lt;div class="highlight">&lt;pre tabindex="0" style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">&lt;code class="language-bash" data-lang="bash">&lt;span style="display:flex;">&lt;span>kubectl edit statefulset php-apache -n apache
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;div class="highlight">&lt;pre tabindex="0" style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">&lt;code class="language-yaml" data-lang="yaml">&lt;span style="display:flex;">&lt;span>&lt;span style="color:#204a87;font-weight:bold">resources&lt;/span>&lt;span style="color:#000;font-weight:bold">:&lt;/span>&lt;span style="color:#f8f8f8;text-decoration:underline">
&lt;/span>&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#f8f8f8;text-decoration:underline"> &lt;/span>&lt;span style="color:#204a87;font-weight:bold">limits&lt;/span>&lt;span style="color:#000;font-weight:bold">:&lt;/span>&lt;span style="color:#f8f8f8;text-decoration:underline">
&lt;/span>&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#f8f8f8;text-decoration:underline"> &lt;/span>&lt;span style="color:#204a87;font-weight:bold">cpu&lt;/span>&lt;span style="color:#000;font-weight:bold">:&lt;/span>&lt;span style="color:#f8f8f8;text-decoration:underline"> &lt;/span>&lt;span style="color:#4e9a06">&amp;#34;1&amp;#34;&lt;/span>&lt;span style="color:#f8f8f8;text-decoration:underline">
&lt;/span>&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#f8f8f8;text-decoration:underline"> &lt;/span>&lt;span style="color:#204a87;font-weight:bold">memory&lt;/span>&lt;span style="color:#000;font-weight:bold">:&lt;/span>&lt;span style="color:#f8f8f8;text-decoration:underline"> &lt;/span>&lt;span style="color:#4e9a06">&amp;#34;16Mi&amp;#34;&lt;/span>&lt;span style="color:#f8f8f8;text-decoration:underline">
&lt;/span>&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#f8f8f8;text-decoration:underline"> &lt;/span>&lt;span style="color:#204a87;font-weight:bold">requests&lt;/span>&lt;span style="color:#000;font-weight:bold">:&lt;/span>&lt;span style="color:#f8f8f8;text-decoration:underline">
&lt;/span>&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#f8f8f8;text-decoration:underline"> &lt;/span>&lt;span style="color:#204a87;font-weight:bold">cpu&lt;/span>&lt;span style="color:#000;font-weight:bold">:&lt;/span>&lt;span style="color:#f8f8f8;text-decoration:underline"> &lt;/span>&lt;span style="color:#4e9a06">&amp;#34;0.5&amp;#34;&lt;/span>&lt;span style="color:#f8f8f8;text-decoration:underline">
&lt;/span>&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#f8f8f8;text-decoration:underline"> &lt;/span>&lt;span style="color:#204a87;font-weight:bold">memory&lt;/span>&lt;span style="color:#000;font-weight:bold">:&lt;/span>&lt;span style="color:#f8f8f8;text-decoration:underline"> &lt;/span>&lt;span style="color:#4e9a06">&amp;#34;12Mi&amp;#34;&lt;/span>&lt;span style="color:#f8f8f8;text-decoration:underline">
&lt;/span>&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;p>Because the StatefulSet is immutable, we must delete the existing Pod and let the StatefulSet re-create it with the new changes.&lt;/p>
&lt;div class="highlight">&lt;pre tabindex="0" style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">&lt;code class="language-bash" data-lang="bash">&lt;span style="display:flex;">&lt;span>kubectl delete pod php-apache-0 -n apache
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;p>Validate the changes have been applied by running the following command:&lt;/p>
&lt;div class="highlight">&lt;pre tabindex="0" style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">&lt;code class="language-bash" data-lang="bash">&lt;span style="display:flex;">&lt;span>kubectl describe statefulset php-apache -n apache
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div></description></item><item><title>Tko: Deploy Load Generator</title><link>https://splunk.github.io/observability-workshop/v4.49/tko/session-5/docs/deploy-loadgen/</link><pubDate>Mon, 01 Jan 0001 00:00:00 +0000</pubDate><guid>https://splunk.github.io/observability-workshop/v4.49/tko/session-5/docs/deploy-loadgen/</guid><description>
&lt;p>Now to see how the autoscaler reacts to increased load. To do this, you&amp;rsquo;ll start a different Pod to act as a client. The container within the client Pod runs in an infinite loop, sending queries to the php-apache Service.&lt;/p>
&lt;h2 id="1-review-loadgen-yaml">1. Review loadgen YAML&lt;/h2>
&lt;p>Inspect the YAML file &lt;code>~/workshop/k3s/loadgen.yaml&lt;/code> and validate the contents. This file contains the configuration for the load generator and will create a new StatefulSet with a single replica of the load generator image.&lt;/p>
&lt;ul class="nav nav-tabs" id="tabs-0" role="tablist">
&lt;li class="nav-item">
&lt;a class="nav-link active persistLang-yaml"
id="tabs-00-00-tab" data-toggle="tab" href="#tabs-00-00" role="tab"
onclick="persistLang(&amp;#34;yaml&amp;#34;);"aria-controls="tabs-00-00" aria-selected="false">
~/workshop/k3s/loadgen.yaml
&lt;/a>
&lt;/li>
&lt;/ul>
&lt;div class="tab-content" id="tabs-0-content">
&lt;div class="tab-pane fade show active"
id="tabs-00-00" role="tabpanel" aria-labelled-by="tabs-00-00-tab">
&lt;div class="highlight">&lt;pre tabindex="0" style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">&lt;code class="language-yaml" data-lang="yaml">&lt;span style="display:flex;">&lt;span>&lt;span style="color:#204a87;font-weight:bold">apiVersion&lt;/span>&lt;span style="color:#000;font-weight:bold">:&lt;/span>&lt;span style="color:#f8f8f8;text-decoration:underline"> &lt;/span>&lt;span style="color:#000">apps/v1&lt;/span>&lt;span style="color:#f8f8f8;text-decoration:underline">
&lt;/span>&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#f8f8f8;text-decoration:underline">&lt;/span>&lt;span style="color:#204a87;font-weight:bold">kind&lt;/span>&lt;span style="color:#000;font-weight:bold">:&lt;/span>&lt;span style="color:#f8f8f8;text-decoration:underline"> &lt;/span>&lt;span style="color:#000">StatefulSet&lt;/span>&lt;span style="color:#f8f8f8;text-decoration:underline">
&lt;/span>&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#f8f8f8;text-decoration:underline">&lt;/span>&lt;span style="color:#204a87;font-weight:bold">metadata&lt;/span>&lt;span style="color:#000;font-weight:bold">:&lt;/span>&lt;span style="color:#f8f8f8;text-decoration:underline">
&lt;/span>&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#f8f8f8;text-decoration:underline"> &lt;/span>&lt;span style="color:#204a87;font-weight:bold">name&lt;/span>&lt;span style="color:#000;font-weight:bold">:&lt;/span>&lt;span style="color:#f8f8f8;text-decoration:underline"> &lt;/span>&lt;span style="color:#000">loadgen&lt;/span>&lt;span style="color:#f8f8f8;text-decoration:underline">
&lt;/span>&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#f8f8f8;text-decoration:underline"> &lt;/span>&lt;span style="color:#204a87;font-weight:bold">labels&lt;/span>&lt;span style="color:#000;font-weight:bold">:&lt;/span>&lt;span style="color:#f8f8f8;text-decoration:underline">
&lt;/span>&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#f8f8f8;text-decoration:underline"> &lt;/span>&lt;span style="color:#204a87;font-weight:bold">app&lt;/span>&lt;span style="color:#000;font-weight:bold">:&lt;/span>&lt;span style="color:#f8f8f8;text-decoration:underline"> &lt;/span>&lt;span style="color:#000">loadgen&lt;/span>&lt;span style="color:#f8f8f8;text-decoration:underline">
&lt;/span>&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#f8f8f8;text-decoration:underline">&lt;/span>&lt;span style="color:#204a87;font-weight:bold">spec&lt;/span>&lt;span style="color:#000;font-weight:bold">:&lt;/span>&lt;span style="color:#f8f8f8;text-decoration:underline">
&lt;/span>&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#f8f8f8;text-decoration:underline"> &lt;/span>&lt;span style="color:#204a87;font-weight:bold">replicas&lt;/span>&lt;span style="color:#000;font-weight:bold">:&lt;/span>&lt;span style="color:#f8f8f8;text-decoration:underline"> &lt;/span>&lt;span style="color:#0000cf;font-weight:bold">1&lt;/span>&lt;span style="color:#f8f8f8;text-decoration:underline">
&lt;/span>&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#f8f8f8;text-decoration:underline"> &lt;/span>&lt;span style="color:#204a87;font-weight:bold">selector&lt;/span>&lt;span style="color:#000;font-weight:bold">:&lt;/span>&lt;span style="color:#f8f8f8;text-decoration:underline">
&lt;/span>&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#f8f8f8;text-decoration:underline"> &lt;/span>&lt;span style="color:#204a87;font-weight:bold">matchLabels&lt;/span>&lt;span style="color:#000;font-weight:bold">:&lt;/span>&lt;span style="color:#f8f8f8;text-decoration:underline">
&lt;/span>&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#f8f8f8;text-decoration:underline"> &lt;/span>&lt;span style="color:#204a87;font-weight:bold">app&lt;/span>&lt;span style="color:#000;font-weight:bold">:&lt;/span>&lt;span style="color:#f8f8f8;text-decoration:underline"> &lt;/span>&lt;span style="color:#000">loadgen&lt;/span>&lt;span style="color:#f8f8f8;text-decoration:underline">
&lt;/span>&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#f8f8f8;text-decoration:underline"> &lt;/span>&lt;span style="color:#204a87;font-weight:bold">template&lt;/span>&lt;span style="color:#000;font-weight:bold">:&lt;/span>&lt;span style="color:#f8f8f8;text-decoration:underline">
&lt;/span>&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#f8f8f8;text-decoration:underline"> &lt;/span>&lt;span style="color:#204a87;font-weight:bold">metadata&lt;/span>&lt;span style="color:#000;font-weight:bold">:&lt;/span>&lt;span style="color:#f8f8f8;text-decoration:underline">
&lt;/span>&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#f8f8f8;text-decoration:underline"> &lt;/span>&lt;span style="color:#204a87;font-weight:bold">name&lt;/span>&lt;span style="color:#000;font-weight:bold">:&lt;/span>&lt;span style="color:#f8f8f8;text-decoration:underline"> &lt;/span>&lt;span style="color:#000">loadgen&lt;/span>&lt;span style="color:#f8f8f8;text-decoration:underline">
&lt;/span>&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#f8f8f8;text-decoration:underline"> &lt;/span>&lt;span style="color:#204a87;font-weight:bold">labels&lt;/span>&lt;span style="color:#000;font-weight:bold">:&lt;/span>&lt;span style="color:#f8f8f8;text-decoration:underline">
&lt;/span>&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#f8f8f8;text-decoration:underline"> &lt;/span>&lt;span style="color:#204a87;font-weight:bold">app&lt;/span>&lt;span style="color:#000;font-weight:bold">:&lt;/span>&lt;span style="color:#f8f8f8;text-decoration:underline"> &lt;/span>&lt;span style="color:#000">loadgen&lt;/span>&lt;span style="color:#f8f8f8;text-decoration:underline">
&lt;/span>&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#f8f8f8;text-decoration:underline"> &lt;/span>&lt;span style="color:#204a87;font-weight:bold">spec&lt;/span>&lt;span style="color:#000;font-weight:bold">:&lt;/span>&lt;span style="color:#f8f8f8;text-decoration:underline">
&lt;/span>&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#f8f8f8;text-decoration:underline"> &lt;/span>&lt;span style="color:#204a87;font-weight:bold">containers&lt;/span>&lt;span style="color:#000;font-weight:bold">:&lt;/span>&lt;span style="color:#f8f8f8;text-decoration:underline">
&lt;/span>&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#f8f8f8;text-decoration:underline"> &lt;/span>- &lt;span style="color:#204a87;font-weight:bold">name&lt;/span>&lt;span style="color:#000;font-weight:bold">:&lt;/span>&lt;span style="color:#f8f8f8;text-decoration:underline"> &lt;/span>&lt;span style="color:#000">infinite-calls&lt;/span>&lt;span style="color:#f8f8f8;text-decoration:underline">
&lt;/span>&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#f8f8f8;text-decoration:underline"> &lt;/span>&lt;span style="color:#204a87;font-weight:bold">image&lt;/span>&lt;span style="color:#000;font-weight:bold">:&lt;/span>&lt;span style="color:#f8f8f8;text-decoration:underline"> &lt;/span>&lt;span style="color:#000">busybox&lt;/span>&lt;span style="color:#f8f8f8;text-decoration:underline">
&lt;/span>&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#f8f8f8;text-decoration:underline"> &lt;/span>&lt;span style="color:#204a87;font-weight:bold">command&lt;/span>&lt;span style="color:#000;font-weight:bold">:&lt;/span>&lt;span style="color:#f8f8f8;text-decoration:underline">
&lt;/span>&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#f8f8f8;text-decoration:underline"> &lt;/span>- &lt;span style="color:#000">/bin/sh&lt;/span>&lt;span style="color:#f8f8f8;text-decoration:underline">
&lt;/span>&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#f8f8f8;text-decoration:underline"> &lt;/span>- -&lt;span style="color:#000">c&lt;/span>&lt;span style="color:#f8f8f8;text-decoration:underline">
&lt;/span>&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#f8f8f8;text-decoration:underline"> &lt;/span>- &lt;span style="color:#4e9a06">&amp;#34;while true; do wget -q -O- http://php-apache-svc.apache.svc.cluster.local; done&amp;#34;&lt;/span>&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>
&lt;/div>
&lt;/div>
&lt;h2 id="2-create-a-new-namespace">2. Create a new namespace&lt;/h2>
&lt;div class="highlight">&lt;pre tabindex="0" style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">&lt;code class="language-text" data-lang="text">&lt;span style="display:flex;">&lt;span>kubectl create namespace loadgen
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;h2 id="3-deploy-the-loadgen-yaml">3. Deploy the loadgen YAML&lt;/h2>
&lt;div class="highlight">&lt;pre tabindex="0" style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">&lt;code class="language-text" data-lang="text">&lt;span style="display:flex;">&lt;span>kubectl apply -f ~/workshop/k3s/loadgen.yaml --namespace loadgen
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;p>Once you have deployed the load generator, you can see the Pod running in the &lt;code>loadgen&lt;/code> namespace. Use previous similar commands to check the status of the Pod from the command line.&lt;/p>
&lt;div class="alert alert-success" role="alert">
&lt;p class="alert-heading">Workshop Question&lt;/p>
&lt;div class="alert-body">
&lt;p class="p-alert-body">
What metrics in the Apache Dashboard have now significantly increased?
&lt;/p>
&lt;/div>
&lt;/div>
&lt;h2 id="4-scale-the-load-generator">4. Scale the load generator&lt;/h2>
&lt;p>A ReplicaSet is a process that runs multiple instances of a Pod and keeps the specified number of Pods constant. Its purpose is to maintain the specified number of Pod instances running in a cluster at any given time to prevent users from losing access to their application when a Pod fails or is inaccessible.&lt;/p>
&lt;p>ReplicaSet helps bring up a new instance of a Pod when the existing one fails, scale it up when the running instances are not up to the specified number, and scale down or delete Pods if another instance with the same label is created. A ReplicaSet ensures that a specified number of Pod replicas are running continuously and helps with load-balancing in case of an increase in resource usage.&lt;/p>
&lt;div class="highlight">&lt;pre tabindex="0" style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">&lt;code class="language-text" data-lang="text">&lt;span style="display:flex;">&lt;span>kubectl scale statefulset/loadgen --replicas 4 -n loadgen
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;p>Validate the replicas are running from both the command line and Splunk Observability Cloud:&lt;/p>
&lt;div class="highlight">&lt;pre tabindex="0" style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">&lt;code class="language-text" data-lang="text">&lt;span style="display:flex;">&lt;span>kubectl get statefulset loadgen -n loadgen
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>
&lt;div class="alert alert-success" role="alert">
&lt;p class="alert-heading">Workshop Question&lt;/p>
&lt;div class="alert-body">
&lt;p class="p-alert-body">
What impact did this have? Where in O11y can you see the increased replica number? Can you identify the point when you scaled?
&lt;/p>
&lt;/div>
&lt;/div>
&lt;p>Let the load generator run for around 2-3 minutes and keep observing the metrics in the Kubernetes Navigator and the Apache dashboard.&lt;/p></description></item><item><title>Tko: Setup Horizontal Pod Autoscaler</title><link>https://splunk.github.io/observability-workshop/v4.49/tko/session-5/docs/setup-hpa/</link><pubDate>Mon, 01 Jan 0001 00:00:00 +0000</pubDate><guid>https://splunk.github.io/observability-workshop/v4.49/tko/session-5/docs/setup-hpa/</guid><description>
&lt;p>In Kubernetes, a HorizontalPodAutoscaler automatically updates a workload resource (such as a Deployment or StatefulSet), with the aim of automatically scaling the workload to match demand.&lt;/p>
&lt;p>Horizontal scaling means that the response to increased load is to deploy more Pods. This is different from vertical scaling, which for Kubernetes would mean assigning more resources (for example: memory or CPU) to the Pods that are already running for the workload.&lt;/p>
&lt;p>If the load decreases, and the number of Pods is above the configured minimum, the HorizontalPodAutoscaler instructs the workload resource (the Deployment, StatefulSet, or other similar resource) to scale back down.&lt;/p>
&lt;h2 id="1-setup-hpa">1. Setup HPA&lt;/h2>
&lt;p>Create an autoscaling deployment for when the CPU usage for &lt;code>php-apache&lt;/code> deployment goes above 50% with a minimum of 1 pod and a maximum of 4 pods.&lt;/p>
&lt;div class="highlight">&lt;pre tabindex="0" style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">&lt;code class="language-text" data-lang="text">&lt;span style="display:flex;">&lt;span>kubectl autoscale statefulset php-apache --cpu-percent=50 --min=1 --max=4 -n apache
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;h2 id="2-validate-hpa">2. Validate HPA&lt;/h2>
&lt;div class="highlight">&lt;pre tabindex="0" style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">&lt;code class="language-text" data-lang="text">&lt;span style="display:flex;">&lt;span>kubectl get hpa -n apache
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;p>Go to the &lt;strong>Workloads&lt;/strong> or &lt;strong>Node Detail&lt;/strong> tab in Kubernetes and check the HPA deployment.&lt;/p>
&lt;div class="alert alert-success" role="alert">
&lt;p class="alert-heading">Workshop Question&lt;/p>
&lt;div class="alert-body">
&lt;p class="p-alert-body">
How many additional &lt;code>php-apache-x&lt;/code> pods have been created?
&lt;/p>
&lt;/div>
&lt;/div>
&lt;div class="alert alert-success" role="alert">
&lt;p class="alert-heading">Workshop Question&lt;/p>
&lt;div class="alert-body">
&lt;p class="p-alert-body">
Which metrics in the Apache Dashboards have significantly increased again?
&lt;/p>
&lt;/div>
&lt;/div></description></item><item><title>Tko: Increase HPA Replicas</title><link>https://splunk.github.io/observability-workshop/v4.49/tko/session-5/docs/edit-hpa/</link><pubDate>Mon, 01 Jan 0001 00:00:00 +0000</pubDate><guid>https://splunk.github.io/observability-workshop/v4.49/tko/session-5/docs/edit-hpa/</guid><description>
&lt;h2 id="1-increase-the-hpa-replica-count">1. Increase the HPA replica count&lt;/h2>
&lt;p>Increase the &lt;code>maxReplicas&lt;/code> to 8&lt;/p>
&lt;div class="highlight">&lt;pre tabindex="0" style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">&lt;code class="language-bash" data-lang="bash">&lt;span style="display:flex;">&lt;span>kubectl edit hpa php-apache -n apache
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>
&lt;div class="alert alert-success" role="alert">
&lt;p class="alert-heading">Workshop Question&lt;/p>
&lt;div class="alert-body">
&lt;p class="p-alert-body">
How many pods are now in a running state? How many are pending? Why are they pending?
&lt;/p>
&lt;/div>
&lt;/div>
&lt;h2 id="2-stop-the-load-test">2. Stop the load test&lt;/h2>
&lt;div class="highlight">&lt;pre tabindex="0" style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">&lt;code class="language-bash" data-lang="bash">&lt;span style="display:flex;">&lt;span>kubectl delete -f ~/workshop/k3s/loadgen.yaml --namespace loadgen
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>
&lt;div class="alert alert-success" role="alert">
&lt;p class="alert-heading">Workshop Question&lt;/p>
&lt;div class="alert-body">
&lt;p class="p-alert-body">
After about 5 minutes what eventually happens to the &lt;code>php-apache&lt;/code> pods when the load test is stopped?
&lt;/p>
&lt;/div>
&lt;/div></description></item><item><title>Tko: The Kubernetes Navigator</title><link>https://splunk.github.io/observability-workshop/v4.49/tko/session-5/docs/check-navigator/</link><pubDate>Mon, 01 Jan 0001 00:00:00 +0000</pubDate><guid>https://splunk.github.io/observability-workshop/v4.49/tko/session-5/docs/check-navigator/</guid><description>
&lt;h2 id="1-the-cluster-map">1. The Cluster Map&lt;/h2>
&lt;p>Go to the &lt;strong>Infrastructure&lt;/strong> page in the Observability UI and select &lt;strong>Kubernetes&lt;/strong>, this will bring you to the Kubernetes Cluster Map.&lt;/p>
&lt;p>Here you will find all the Kubernetes clusters that are sending data to the Splunk Observability Cloud platform. Your first task is to identify your own cluster.&lt;/p>
&lt;p>The cluster will be named after your EC2 instance name: &lt;code>ws-5-X-k3s-cluster&lt;/code> where &lt;code>X&lt;/code> is the number of the EC2 instance assigned to you.&lt;/p>
&lt;p>To find your node name look at the prompt of you EC2 instance, assuming you are assigned the 7th EC2 instance the prompt will show&lt;/p>
&lt;div class="highlight">&lt;pre tabindex="0" style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">&lt;code class="language-bash" data-lang="bash">&lt;span style="display:flex;">&lt;span>ubuntu@ws-5-7 ~ $
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;p>This means your cluster is named: &lt;code>ws-5-7-k3s-cluster&lt;/code>&lt;/p>
&lt;p>Use the Cluster drop down on the top toolbar to filter the view to only show your Cluster, you can enter a partial name into the search box such as &amp;lsquo;ws-5-7&amp;rsquo; to quickly find your allocated Cluster.&lt;/p>
&lt;h2 id="2-examine-the-kubernetes-analyzer-cluster-map-only">2. Examine the Kubernetes analyzer (Cluster Map only)&lt;/h2>
&lt;p>With your Cluster selected in the Cluster drop down, open the Kubernetes Cluster Analyzer, you can find it by expanding the right hand pane by clicking on the &lt;img src="../images/sidebar-button.png" alt="sidebar_button"> button in the top right corner. The Analyzer provides a quick view into the health of your cluster.&lt;/p>
&lt;p>&lt;img src="../images/cluster-analyzer.png" alt="cluster-analyzer">&lt;/p>
&lt;p>In our little cluster we have not yet had enough time or data to do more than highlight a condition detected like a pod restart. Over time, the system will show relationships and patterns between objects. You will find that as you drill down into your Clusters resources, the Analyzer adjusts what it displays depending on the chosen resource.&lt;/p>
&lt;div class="alert alert-success" role="alert">
&lt;p class="alert-heading">Workshop Question&lt;/p>
&lt;div class="alert-body">
&lt;p class="p-alert-body">
How many trouble indicators are there in your Cluster?
&lt;/p>
&lt;/div>
&lt;/div>
&lt;h2 id="3--nodes--node-details-tabs">3. Nodes &amp;amp; Node Details Tabs&lt;/h2>
&lt;p>In a production environment you would expect to see multiple Nodes within a Cluster which would now all be visible and shown as individual pale blue squares, each containing green squares which represent pods, however in our workshop environment you each have a single node within your Cluster, represented by the large single blue square.&lt;/p>
&lt;p>Drill down into the single Node by hovering over the pale blue background, then clicking on either the magnifying glass that appears in the top left corner, or double clicking on the pale blue background, this will take you to the Node level view.&lt;/p>
&lt;p>&lt;img src="../images/cluster.png" alt="cluster">&lt;/p>
&lt;p>You should now be able to see all the Pods and Containers running on your single Node Cluster&amp;hellip;&lt;/p>
&lt;p>&lt;img src="../images/cluster-detail.png" alt="cluster-detail">&lt;/p>
&lt;p>but more importantly, the &amp;lsquo;side panel&amp;rsquo; should have also switched to the Info Tab and is now showing lots of contextual information about the Node.&lt;/p>
&lt;p>&lt;img src="../images/side-panel-node.png" alt="side-panel-node.png">&lt;/p>
&lt;p>There are various Panes showing details on the Properties of the Node, and all the various Workloads running on it, even though we are still on the &amp;lsquo;Map&amp;rsquo; tab within Kubernetes Navigator.&lt;/p>
&lt;hr>
&lt;p>At the top of the side panel, click on the Expand icon &lt;img src="../images/expand-sidebar.png" alt="expand-sidebar.png"> which takes you to the full screen tab of the currently displayed resource, which in this case is a Node, so we end up on the Node Details Tab.&lt;/p>
&lt;p>Node Details shows you lots of great detail about what is happening on this Node, with charts for total CPU Usage, Memory Usage, Network traffic etc for all the Pods running on the Node with a list of any Events just to the right of these Charts.&lt;/p>
&lt;p>You also have scrollable table views of both the Workloads and Containers running on the Node. Clicking on any of the names in the tables will reopen the side panel with the appropriate panes for either Workloads or Containers. Each of these can then also be expanded just like you did with the Node side panel, by clicking the expand button &lt;img src="../images/expand-sidebar.png" alt="expand-sidebar.png">&lt;/p>
&lt;div class="alert alert-success" role="alert">
&lt;p class="alert-heading">Workshop Question&lt;/p>
&lt;div class="alert-body">
&lt;p class="p-alert-body">
How much memory and how many CPU cores does our one node have?
&lt;/p>
&lt;/div>
&lt;/div>
&lt;h2 id="4-workloads--workload-details-tabs">4. Workloads &amp;amp; Workload Details Tabs&lt;/h2>
&lt;p>Assuming you have been able to answer the question about the Node CPU cores, you will now need to switch to the Workloads tab on the top toolbar. The Workloads tab details all the workloads that are deployed within your cluster.&lt;/p>
&lt;p>This table provides lots of valuable insights into the state of your workloads, and will show you if any of them are not in their desired state.&lt;/p>
&lt;p>The default view has no Grouping applied but experiment with the various Group By options to see how the table changes. Note how you can also use the various fields in the top toolbar to filter the data displayed, this would be essential in a large environment with hundreds or even thousands of different Workloads.&lt;/p>
&lt;div class="alert alert-success" role="alert">
&lt;p class="alert-heading">Workshop Question&lt;/p>
&lt;div class="alert-body">
&lt;p class="p-alert-body">
What type is the &lt;code>splunk-otel-collector-agent&lt;/code> workload, and what is its desired configuration?
&lt;/p>
&lt;/div>
&lt;/div>
&lt;p>To get more detail on a specific Workload, simply click on its name in the Workload column (we assume you have the &amp;lsquo;splunk-otel-collector-agent&amp;rsquo; workload selected), this will open the side panel, then click the expand button &lt;img src="../images/expand-sidebar.png" alt="expand-sidebar.png"> to navigate to the Workload Detail Tab.&lt;/p>
&lt;hr>
&lt;h3 id="workload-detail-tab">Workload Detail tab&lt;/h3>
&lt;p>Here you will get the general info about your Workload, the CPU and Memory the Containers are consuming, the Pods and their Phase, details of any Events, and finally a list of Pods related to this Workload.&lt;/p>
&lt;p>As with the other Kubernetes Navigator views clicking on the name of a Pod within the table view will load the Side Panel with details about that resource, allowing you to &amp;lsquo;click through&amp;rsquo; to these resources. Select any of the listed Pods, then click the expand button &lt;img src="../images/expand-sidebar.png" alt="expand-sidebar.png"> to navigate to the Pod Detail Tab.&lt;/p>
&lt;div class="alert alert-success" role="alert">
&lt;p class="alert-heading">Workshop Question&lt;/p>
&lt;div class="alert-body">
&lt;p class="p-alert-body">
How many containers does the &lt;code>splunk-otel-collector-agent&lt;/code> Pod contain?
&lt;/p>
&lt;/div>
&lt;/div>
&lt;h2 id="5-pod-detail--container-details-tabs">5. Pod Detail &amp;amp; Container Details Tabs&lt;/h2>
&lt;p>The last two Tabs that make up the Kubernetes Navigator are Pod Detail and Container Detail.&lt;/p>
&lt;p>The Pod Detail view will show you the Pod Properties, CPU, Memory and Network usage along with any events relevant to the Pod.&lt;/p>
&lt;p>Clicking through to the Container Detail Tab, you should know how to do this by now, but just to play safe, select one of the Containers in the list then click the expand button &lt;img src="../images/expand-sidebar.png" alt="expand-sidebar.png"> to navigate to the Container Detail Tab.&lt;/p>
&lt;p>If you navigated straight to the Container Detail Tab by simply clicking on the Tab, try using the Container ID drop down to select a container, now you will see the benefit of &amp;lsquo;clicking through&amp;rsquo; to get to the desired Container!&lt;/p>
&lt;p>You can now see the details for the Selected Container, with the Container Properties pane offering lots of detail on its configuration.&lt;/p></description></item></channel></rss>