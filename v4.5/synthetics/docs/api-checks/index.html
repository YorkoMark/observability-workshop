<!doctype html><html lang=en class=no-js>
<head>
<meta charset=utf-8>
<meta name=viewport content="width=device-width,initial-scale=1,shrink-to-fit=no">
<meta name=generator content="Hugo 0.92.2">
<meta name=robots content="index, follow">
<link rel="shortcut icon" href=/observability-workshop/v4.5/favicons/favicon.ico>
<link rel=apple-touch-icon href=/observability-workshop/v4.5/favicons/apple-touch-icon-180x180.png sizes=180x180>
<link rel=icon type=image/png href=/observability-workshop/v4.5/favicons/favicon-16x16.png sizes=16x16>
<link rel=icon type=image/png href=/observability-workshop/v4.5/favicons/favicon-32x32.png sizes=32x32>
<link rel=icon type=image/png href=/observability-workshop/v4.5/favicons/android-36x36.png sizes=36x36>
<link rel=icon type=image/png href=/observability-workshop/v4.5/favicons/android-48x48.png sizes=48x48>
<link rel=icon type=image/png href=/observability-workshop/v4.5/favicons/android-72x72.png sizes=72x72>
<link rel=icon type=image/png href=/observability-workshop/v4.5/favicons/android-96x96.png sizes=96x96>
<link rel=icon type=image/png href=/observability-workshop/v4.5/favicons/android-144x144.png sizes=144x144>
<link rel=icon type=image/png href=/observability-workshop/v4.5/favicons/android-192x192.png sizes=192x192>
<title>API Checks | Splunk Observability Cloud Workshops</title>
<meta name=description content="Scripting and configuring an API Check
">
<meta property="og:title" content="API Checks">
<meta property="og:description" content="Scripting and configuring an API Check
">
<meta property="og:type" content="article">
<meta property="og:url" content="https://rcastley.github.io/observability-workshop/v4.5/synthetics/docs/api-checks/"><meta property="article:section" content="synthetics">
<meta property="article:modified_time" content="2022-03-03T13:45:40+00:00"><meta property="og:site_name" content="Splunk Observability Cloud Workshops">
<meta itemprop=name content="API Checks">
<meta itemprop=description content="Scripting and configuring an API Check
">
<meta itemprop=dateModified content="2022-03-03T13:45:40+00:00">
<meta itemprop=wordCount content="593">
<meta itemprop=keywords content><meta name=twitter:card content="summary">
<meta name=twitter:title content="API Checks">
<meta name=twitter:description content="Scripting and configuring an API Check
">
<link rel=preload href=/observability-workshop/v4.5/scss/main.min.5f8c3c6125570efd6840d5ae69619240bb33adb38c2ed5a72ddf29890e66afcb.css as=style>
<link href=/observability-workshop/v4.5/scss/main.min.5f8c3c6125570efd6840d5ae69619240bb33adb38c2ed5a72ddf29890e66afcb.css rel=stylesheet integrity>
<script src=https://code.jquery.com/jquery-3.6.0.min.js integrity=sha384-vtXRMe3mGCbOeY7l30aIg8H9p3GdeSe4IFlP6G8JMa7o7lXvnz3GFKzPxzJdPfGK crossorigin=anonymous></script>
<script src=https://unpkg.com/lunr@2.3.9/lunr.min.js integrity=sha384-203J0SNzyqHby3iU6hzvzltrWi/M41wOP5Gu+BiJMz5nwKykbkUx8Kp7iti0Lpli crossorigin=anonymous></script>
</head>
<body class=td-page>
<header>
<nav class="js-navbar-scroll navbar navbar-expand navbar-dark flex-column flex-md-row td-navbar" id=navbar1>
<a class=navbar-brand href=/observability-workshop/v4.5/>
<span class=navbar-logo><img class=navbar-logo src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAC8AAAAvCAIAAAD8RQT7AAACwklEQVRYw+2YW2jTYBTHu4l4F1ERVMQL+qKgMBUU9EEfRAURUUFfBEUEBRGfdC+CrVt3cdbNSZ1zXqar024yp9MJKzh3FScyO+q8MDW3pvc2TZqkudSvtD4J66fkWyL0kNeQH8mX8/+dY8JMZuNcpjzNX9JQK64ZiEZlk9zDEe/aOmPQ8FIKlJpKtH+mNzUYg+Z38a7vvu2NRqHJlDhABPY0G4UmU8lhOnioFSu0GIImU9KXUOhYOz75kiFoMiVjsfDpl/i0UrQ0oePPkp5ACq5kHxs978JnlaHsxQVm/24H3zUGyaRE+Jj5DTGvEm0yeNfVsfeGVVGGYQJtk6kaIBfZ0OYUufBKrKRHCSWgmAQ5fmOIWl6DNjXx6dbwqRfgh4L6eJLC3v/oXW1HnOGFlsDeR0L3TygmEC+tn+j19ciNgt5Qzznc4B3AUPGd33xb7yL3G3LJVaaiX4kKMExCD+bf2YTctvCZZZEzndJYBIZJfE8F9jtBE0HsfpMswQNOoR+HYWIbPkyQiQIr4pyelKyOQ5No8UyoF1PLahjboMqIhqABl3/HA6EX05kGyEboSBuQIZ2/FDGnInKuSyaZnKcYLU32lMTF3P05ITHVb8nFNiQ09MZbXPPI+H9QliMuMuV9xIIqBN2vwAy8HTKw0gJ0sZuYW6l9MuBTS8MnnkujQSgOPxctdhGzy7VPTWL+5eiF1+ABUJJKMpGzr4CHaG8U1KrauH0IHEAot/kRDZ/swKeUaG9bvi13Em2jKUWF4gDDzdGn/zbcmHJE4MEWcZCAFPWk2xc8/ATcpbGl4zOsYFCC1IOsIex7/KchaEMj0ywkh9CH+3c59J8104uLbY36T758x1d68229twIZ+y+6qffGRFa5Jrd3jR3Td5ukJhVgr9TKWp03benp9fo7cmm1/lvImLUXDN757XWe5v+g+QU6sNkgKUPrgwAAAABJRU5ErkJggg=="></span><span class=font-weight-bold>Splunk Observability Cloud Workshops</span>
</a>
<div class="td-navbar-nav-scroll ml-md-auto" id=main_navbar>
<ul class="navbar-nav mt-2 mt-lg-0">
</ul>
</div>
</nav>
<nav class="js-navbar-scroll navbar navbar-expand navbar-dark flex-column flex-md-row td-navbar" id=navbar2>
<div class="td-navbar-nav-scroll ml-md-auto" id=main_navbar>
<ul class="navbar-nav mt-2 mt-lg-0">
<li class="nav-item mr-4 mb-2 mb-lg-0">
<a class=nav-link href=/observability-workshop/v4.5/imt/><span>Splunk IMT</span></a>
</li>
<li class="nav-item mr-4 mb-2 mb-lg-0">
<a class=nav-link href=/observability-workshop/v4.5/apm/><span>Splunk APM</span></a>
</li>
<li class="nav-item mr-4 mb-2 mb-lg-0">
<a class="nav-link active" href=/observability-workshop/v4.5/synthetics/><span class=active>Splunk Synthetics</span></a>
</li>
<li class="nav-item mr-4 mb-2 mb-lg-0">
<a class=nav-link href=/observability-workshop/v4.5/rum/><span>Splunk RUM</span></a>
</li>
<li class="nav-item mr-4 mb-2 mb-lg-0">
<a class=nav-link href=/observability-workshop/v4.5/bootcamp/><span>Observability Bootcamp</span></a>
</li>
<li class="nav-item mr-4 mb-2 mb-lg-0">
<a class=nav-link href=/observability-workshop/v4.5/resources/><span>Resources</span></a>
</li>
<li class="nav-item dropdown mr-4 d-none d-lg-block">
<a class="nav-link dropdown-toggle" href=# id=navbarDropdown role=button data-toggle=dropdown aria-haspopup=true aria-expanded=false>
Releases
</a>
<div class=dropdown-menu aria-labelledby=navbarDropdownMenuLink>
<a class=dropdown-item href=https://rcastley.github.io/observability-workshop/latest/>latest</a>
<a class=dropdown-item href=https://rcastley.github.io/observability-workshop/v4.4>v4.4</a>
<a class=dropdown-item href=https://rcastley.github.io/observability-workshop/v4.5>v4.5</a>
</div>
</li>
<li class="nav-item dropdown mr-4 d-none d-lg-block">
<a class="nav-link dropdown-toggle" href=# id=navbarDropdown role=button data-toggle=dropdown aria-haspopup=true aria-expanded=false>
English
</a>
<div class=dropdown-menu aria-labelledby=navbarDropdownMenuLink>
<a class=dropdown-item href=/observability-workshop/v4.5/ja/synthetics/docs/api-checks/>日本語</a>
</div>
</li>
</ul>
</div>
</nav>
</header>
<div class="container-fluid td-outer">
<div class=td-main>
<div class="row flex-xl-nowrap">
<aside class="col-12 col-md-3 col-xl-2 td-sidebar d-print-none">
<div id=td-sidebar-menu class=td-sidebar__inner>
<form class="td-sidebar__search d-flex align-items-center">
<input type=search class="form-control td-search-input" placeholder="&#xf002; Search this site…" aria-label="Search this site…" autocomplete=off data-offline-search-index-json-src=/observability-workshop/v4.5/offline-search-index.25b1cf9aa19324e09e4002fb3de40f44.json data-offline-search-base-href=/ data-offline-search-max-results=10>
<button class="btn btn-link td-sidebar__toggle d-md-none p-0 ml-3 fas fa-bars" type=button data-toggle=collapse data-target=#td-section-nav aria-controls=td-docs-nav aria-expanded=false aria-label="Toggle section navigation">
</button>
</form>
<nav class="collapse td-sidebar-nav" id=td-section-nav>
<div class="nav-item dropdown d-block d-lg-none">
<a class="nav-link dropdown-toggle" href=# id=navbarDropdown role=button data-toggle=dropdown aria-haspopup=true aria-expanded=false>
English
</a>
<div class=dropdown-menu aria-labelledby=navbarDropdownMenuLink>
<a class=dropdown-item href=/observability-workshop/v4.5/ja/synthetics/docs/api-checks/>日本語</a>
</div>
</div>
<ul class="td-sidebar-nav__section pr-md-3 ul-0">
<li class="td-sidebar-nav__section-title td-sidebar-nav__section with-child active-path" id=m-observability-workshopv45synthetics-li>
<a href=/observability-workshop/v4.5/synthetics/ title=Introduction class="align-left pl-0 td-sidebar-link td-sidebar-link__section tree-root" id=m-observability-workshopv45synthetics><span>Splunk Synthetics</span></a>
<ul class=ul-1>
<li class="td-sidebar-nav__section-title td-sidebar-nav__section with-child active-path" id=m-observability-workshopv45syntheticsdocs-li>
<a href=/observability-workshop/v4.5/synthetics/docs/ class="align-left pl-0 td-sidebar-link td-sidebar-link__section" id=m-observability-workshopv45syntheticsdocs><span>Creating checks</span></a>
<ul class="ul-2 foldable">
<li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id=m-observability-workshopv45syntheticsdocsreal-browser-checks-li>
<a href=/observability-workshop/v4.5/synthetics/docs/real-browser-checks/ class="align-left pl-0 td-sidebar-link td-sidebar-link__page" id=m-observability-workshopv45syntheticsdocsreal-browser-checks><span>Real Browser Check</span></a>
</li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child active-path" id=m-observability-workshopv45syntheticsdocsapi-checks-li>
<a href=/observability-workshop/v4.5/synthetics/docs/api-checks/ class="align-left pl-0 active td-sidebar-link td-sidebar-link__page" id=m-observability-workshopv45syntheticsdocsapi-checks><span class=td-sidebar-nav-active-item>API Checks</span></a>
</li>
</ul>
</li>
</ul>
</li>
</ul>
</nav>
</div>
</aside>
<aside class="d-none d-xl-block col-xl-2 td-sidebar-toc d-print-none">
<div class="td-page-meta ml-2 pb-1 pt-2 mb-0">
</div>
<div class=td-toc><nav id=TableOfContents>
<ul>
<li><a href=#1-create-a-global-variable>1. Create a Global Variable</a></li>
<li><a href=#2-create-an-api-check>2. Create an API Check</a></li>
<li><a href=#3-test-your-rest-api-check>3. Test your REST API Check</a></li>
<li><a href=#4-resources>4. Resources</a></li>
</ul>
</nav></div>
<div class="taxonomy taxonomy-terms-cloud taxo-tags">
<h5 class=taxonomy-title>Tag Cloud</h5>
<ul class=taxonomy-terms>
<li><a class=taxonomy-term href=https://rcastley.github.io/observability-workshop/v4.5/tags/k3s/ data-taxonomy-term=k3s><span class=taxonomy-label>k3s</span><span class=taxonomy-count>1</span></a></li>
<li><a class=taxonomy-term href=https://rcastley.github.io/observability-workshop/v4.5/tags/ngnix/ data-taxonomy-term=ngnix><span class=taxonomy-label>NGNIX</span><span class=taxonomy-count>1</span></a></li>
</ul>
</div>
<div class="taxonomy taxonomy-terms-cloud taxo-categories">
<h5 class=taxonomy-title>Categories</h5>
<ul class=taxonomy-terms>
<li><a class=taxonomy-term href=https://rcastley.github.io/observability-workshop/v4.5/categories/imt/ data-taxonomy-term=imt><span class=taxonomy-label>IMT</span><span class=taxonomy-count>2</span></a></li>
</ul>
</div>
</aside>
<main class="col-12 col-md-9 col-xl-8 pl-md-5" role=main>
<nav aria-label=breadcrumb class=td-breadcrumbs>
<ol class=breadcrumb>
<li class=breadcrumb-item>
<a href=https://rcastley.github.io/observability-workshop/v4.5/synthetics/>Splunk Synthetics</a>
</li>
<li class=breadcrumb-item>
<a href=https://rcastley.github.io/observability-workshop/v4.5/synthetics/docs/>Creating checks</a>
</li>
<li class="breadcrumb-item active" aria-current=page>
<a href=https://rcastley.github.io/observability-workshop/v4.5/synthetics/docs/api-checks/>API Checks</a>
</li>
</ol>
</nav>
<div class=td-content>
<h1>API Checks</h1>
<div class=lead>Scripting and configuring an API Check</div>
<header class=article-meta>
<p class=reading-time><i class="fa fa-clock" aria-hidden=true></i>&nbsp; 3 minute read &nbsp;</p>
</header>
<p>The API Check provides a flexible way to check the functionality and performance of API endpoints. The shift toward API-first development has magnified the necessity to monitor the back-end services that provide your core front-end functionality. Whether you&rsquo;re interested in testing the multi-step API interactions or you want to gain visibility into the performance of your endpoints, the API Check can help you accomplish your goals.</p>
<h2 id=1-create-a-global-variable>1. Create a Global Variable</h2>
<p>View the global variable that we&rsquo;ll use to perform our API check. Click on <strong>Global Variables</strong> under <strong>Admin Tools</strong>. View the global variable that we&rsquo;ll use to make the spotify API transaction</p>
<p><img src=../../images/global-variable.png alt=placeholder></p>
<h2 id=2-create-an-api-check>2. Create an API Check</h2>
<p>Create a new API Check and name it <code>&lt;your initials></code> followed by Splunk REST API Check for example: <strong>AP - Spotify API</strong></p>
<p><img src=../../images/new-api-check.png alt=placeholder></p>
<p>Take a second to explore the notification tab after you&rsquo;ve named your check</p>
<p>Add the following API Check Steps:</p>
<p><img src=../../images/api-check-steps.png alt=placeholder></p>
<p>Available Variables to choose from:</p>
<p><img src=../../images/available-variables.png alt=placeholder></p>
<p><strong><a href=https://help.rigor.com/hc/en-us/articles/115004583747-API-Check-Request-Step target=_blank>Request Step</a>
</strong></p>
<ul>
<li>A Request Step makes an HTTP request to some endpoint and collects data from that interaction. Unlike other check types, API Checks do not require an initial URL to start the check. All HTTP requests are configured within Request Steps.</li>
</ul>
<p><strong><a href=https://help.rigor.com/hc/en-us/articles/115004582607-API-Check-Extract-Step target=_blank>Extract Step</a>
</strong></p>
<ul>
<li>
<p>An Extract Step extracts data out of JSON, XML, or HTML formatted data.</p>
</li>
<li>
<p>To extract data out of JSON, supply three things:</p>
</li>
<li>
<p>The source containing the JSON,</p>
</li>
<li>
<p>The JSONPath expression to extract out the data, and</p>
</li>
<li>
<p>The name of the custom variable that you want to save to.</p>
</li>
<li>
<p>The source can be any JSON, but most likely will come from the response body. The source could also come from a response header or can be a custom value. The source must be well-formed JSON.</p>
</li>
</ul>
<p><strong><a href=https://help.rigor.com/hc/en-us/articles/115004743868-API-Check-Save-Step target=_blank>Save Step</a>
</strong></p>
<ul>
<li>
<p>A Save Step stores some data to be reused later in the check. To save data, supply the source and the name of the custom variable to save to. The source can be selected from the presets, including response headers, or by providing a custom value.</p>
</li>
<li>
<p>Some additional use cases are appending bits of information to easily reuse in other steps and saving the results from one request to be reused after another request is made.</p>
</li>
<li>
<p>It is important to remember that request variables are only available after a request is made. If you try to save a value from a request but haven&rsquo;t made a request yet, then an empty string will be saved.</p>
</li>
</ul>
<p><strong><a href=https://help.rigor.com/hc/en-us/articles/115004742408-API-Check-Assert-Step target=_blank>Assert Step</a>
</strong></p>
<ul>
<li>An Assert Step makes an assertion on two values. To make an assertion, supply two parameters along with the comparison that you would like to perform between the two.</li>
</ul>
<p><strong><a href=https://help.rigor.com/hc/en-us/articles/115004742408-API-Check-Assert-Step target=_blank>Comparisons</a>
</strong></p>
<ul>
<li>
<p>We currently support 3 types of comparisons: <strong>string</strong>, <strong>numeric</strong>, and <strong>regular expression</strong>.</p>
</li>
<li>
<p>For <strong>string</strong> and <strong>numeric</strong> comparisons, values are coerced to the comparison type before the comparison is made.</p>
</li>
<li>
<p>For a <strong>regular expression</strong> comparison, the first parameter is a string and the second parameter is a regular expression.</p>
</li>
</ul>
<p>Tag your API Check with Splunk and API and <strong>SAVE</strong> it</p>
<p><img src=../../images/tags.png alt=placeholder></p>
<h2 id=3-test-your-rest-api-check>3. Test your REST API Check</h2>
<p>Press got back into the edit configuration and press &lsquo;test&rsquo; at the bottom of the page to ensure there are no errors</p>
<p><img src=../../images/test-api-check.png alt=placeholder></p>
<p>Slide the window up to view details about the successful run</p>
<p><img src=../../images/successful-run.png alt=placeholder></p>
<p><img src=../../images/request-step.png alt=placeholder></p>
<p>Now, let&rsquo;s add some more functionality to the monitor. Slide the detailed window back down and add steps 5-8</p>
<p><strong>BONUS</strong>: use step 6 to assert that the following response came back in a timely manner (1000 ms)</p>
<p><img src=../../images/additional-steps.png alt=placeholder></p>
<p>Once the steps are added, test & save the monitor.</p>
<h2 id=4-resources>4. Resources</h2>
<ul>
<li>
<p><a href=https://help.rigor.com/hc/en-us/articles/115004817308-How-to-Create-an-API-Check target=_blank>How to Create an API Check</a>
</p>
</li>
<li>
<p><a href=https://help.rigor.com/hc/en-us/articles/115004952508-API-Check-Overview target=_blank>API Check Overview</a>
</p>
</li>
<li>
<p><a href=https://help.rigor.com/hc/en-us/articles/360049442854-How-Do-I-Use-Business-Transactions target=_blank>How Do I Use Business Transactions?</a>
</p>
</li>
</ul>
</div>
</main>
</div>
</div>
<footer class="bg-dark py-5 row d-print-none">
<div class="container-fluid mx-sm-5">
<div class=row>
<div class="col-6 col-sm-4 text-xs-center order-sm-2">
<ul class="list-inline mb-0">
<li class="list-inline-item mx-2 h3" data-toggle=tooltip data-placement=top title=Twitter aria-label=Twitter>
<a class=text-white target=_blank rel=noopener href=https://twitter.com/splunk aria-label=Twitter>
<i class="fab fa-twitter"></i>
</a>
</li>
</ul>
</div>
<div class="col-6 col-sm-4 text-right text-xs-center order-sm-3">
<ul class="list-inline mb-0">
<li class="list-inline-item mx-2 h3" data-toggle=tooltip data-placement=top title=GitHub aria-label=GitHub>
<a class=text-white target=_blank rel=noopener href=https://github.com/signalfx/observability-workshop aria-label=GitHub>
<i class="fab fa-github"></i>
</a>
</li>
</ul>
</div>
<div class="col-12 col-sm-4 text-center py-2 order-sm-2">
<small class=text-white>&copy; 2022 Splunk Inc. All Rights Reserved</small>
</div>
</div>
</div>
</footer>
</div>
<script src=https://cdn.jsdelivr.net/npm/popper.js@1.16.1/dist/umd/popper.min.js integrity=sha384-9/reFTGAW83EW2RDu2S0VKaIzap3H66lZH81PoYlFhbGU+6BZp6G7niu735Sk7lN crossorigin=anonymous></script>
<script src=https://cdn.jsdelivr.net/npm/bootstrap@4.6.1/dist/js/bootstrap.min.js integrity="sha512-UR25UO94eTnCVwjbXozyeVd6ZqpaAE9naiEUBK/A+QDbfSTQFhPGj5lOR6d8tsgbBk84Ggb5A3EkjsOgPRPcKA==" crossorigin=anonymous></script>
<script src=/observability-workshop/v4.5/js/tabpane-persist.js></script>
<script src=/observability-workshop/v4.5/js/main.min.8ab8f81ff7e1454d30024cd6f956d4d341c3a97e2a673f988065f2ee4e147922.js integrity="sha256-irj4H/fhRU0wAkzW+VbU00HDqX4qZz+YgGXy7k4UeSI=" crossorigin=anonymous></script>
</body>
</html>