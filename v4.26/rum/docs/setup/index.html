<!doctype html><html lang=en class=no-js>
<head>
<meta charset=utf-8>
<meta name=viewport content="width=device-width,initial-scale=1,shrink-to-fit=no">
<meta name=generator content="Hugo 0.92.2">
<meta name=robots content="index, follow">
<link rel="shortcut icon" href=/observability-workshop/v4.26/favicons/favicon.ico>
<link rel=apple-touch-icon href=/observability-workshop/v4.26/favicons/apple-touch-icon-180x180.png sizes=180x180>
<link rel=icon type=image/png href=/observability-workshop/v4.26/favicons/favicon-16x16.png sizes=16x16>
<link rel=icon type=image/png href=/observability-workshop/v4.26/favicons/favicon-32x32.png sizes=32x32>
<link rel=icon type=image/png href=/observability-workshop/v4.26/favicons/android-36x36.png sizes=36x36>
<link rel=icon type=image/png href=/observability-workshop/v4.26/favicons/android-48x48.png sizes=48x48>
<link rel=icon type=image/png href=/observability-workshop/v4.26/favicons/android-72x72.png sizes=72x72>
<link rel=icon type=image/png href=/observability-workshop/v4.26/favicons/android-96x96.png sizes=96x96>
<link rel=icon type=image/png href=/observability-workshop/v4.26/favicons/android-144x144.png sizes=144x144>
<link rel=icon type=image/png href=/observability-workshop/v4.26/favicons/android-192x192.png sizes=192x192>
<title>Example of RUM enablement in your Website | Splunk Observability Cloud Workshops</title>
<meta name=description content="
Check the original HEAD section of your Online-boutique webpage (or use the examples here) in your browser
Find the Web address of your workshop …">
<meta property="og:title" content="Example of RUM enablement in your Website">
<meta property="og:description" content="Check the original HEAD section of your Online-boutique webpage (or use the examples here) in your browser Find the Web address of your workshop hosts Online Boutique Compare the changes made to the hosts Online-Boutique and compare with the base one.   1. Review the original code of your NON RUM Online-Boutique If you have access to an EC2 instance and have previously installed the Online Boutique as part of the APM session, you can view it on port 81 of the EC2 instance&rsquo;s IP address.">
<meta property="og:type" content="article">
<meta property="og:url" content="https://signalfx.github.io/observability-workshop/v4.26/rum/docs/setup/"><meta property="article:section" content="rum">
<meta property="article:modified_time" content="2022-08-23T16:10:16+02:00"><meta property="og:site_name" content="Splunk Observability Cloud Workshops">
<meta itemprop=name content="Example of RUM enablement in your Website">
<meta itemprop=description content="Check the original HEAD section of your Online-boutique webpage (or use the examples here) in your browser Find the Web address of your workshop hosts Online Boutique Compare the changes made to the hosts Online-Boutique and compare with the base one.   1. Review the original code of your NON RUM Online-Boutique If you have access to an EC2 instance and have previously installed the Online Boutique as part of the APM session, you can view it on port 81 of the EC2 instance&rsquo;s IP address.">
<meta itemprop=dateModified content="2022-08-23T16:10:16+02:00">
<meta itemprop=wordCount content="1147">
<meta itemprop=keywords content><meta name=twitter:card content="summary">
<meta name=twitter:title content="Example of RUM enablement in your Website">
<meta name=twitter:description content="Check the original HEAD section of your Online-boutique webpage (or use the examples here) in your browser Find the Web address of your workshop hosts Online Boutique Compare the changes made to the hosts Online-Boutique and compare with the base one.   1. Review the original code of your NON RUM Online-Boutique If you have access to an EC2 instance and have previously installed the Online Boutique as part of the APM session, you can view it on port 81 of the EC2 instance&rsquo;s IP address.">
<link rel=preload href=/observability-workshop/v4.26/scss/main.min.39785c4da9cb0cfe16de8f72aadcf06fb29187963dcb8220bb9935bd52331915.css as=style>
<link href=/observability-workshop/v4.26/scss/main.min.39785c4da9cb0cfe16de8f72aadcf06fb29187963dcb8220bb9935bd52331915.css rel=stylesheet integrity>
<script src=https://code.jquery.com/jquery-3.6.0.min.js integrity=sha384-vtXRMe3mGCbOeY7l30aIg8H9p3GdeSe4IFlP6G8JMa7o7lXvnz3GFKzPxzJdPfGK crossorigin=anonymous></script>
<script src=https://unpkg.com/lunr@2.3.9/lunr.min.js integrity=sha384-203J0SNzyqHby3iU6hzvzltrWi/M41wOP5Gu+BiJMz5nwKykbkUx8Kp7iti0Lpli crossorigin=anonymous></script>
</head>
<body class=td-page>
<header>
<nav class="js-navbar-scroll navbar navbar-expand navbar-dark flex-column flex-md-row td-navbar" id=navbar1>
<a class=navbar-brand href=/observability-workshop/v4.26/>
<span class=navbar-logo><img class=navbar-logo src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAC8AAAAvCAIAAAD8RQT7AAACwklEQVRYw+2YW2jTYBTHu4l4F1ERVMQL+qKgMBUU9EEfRAURUUFfBEUEBRGfdC+CrVt3cdbNSZ1zXqar024yp9MJKzh3FScyO+q8MDW3pvc2TZqkudSvtD4J66fkWyL0kNeQH8mX8/+dY8JMZuNcpjzNX9JQK64ZiEZlk9zDEe/aOmPQ8FIKlJpKtH+mNzUYg+Z38a7vvu2NRqHJlDhABPY0G4UmU8lhOnioFSu0GIImU9KXUOhYOz75kiFoMiVjsfDpl/i0UrQ0oePPkp5ACq5kHxs978JnlaHsxQVm/24H3zUGyaRE+Jj5DTGvEm0yeNfVsfeGVVGGYQJtk6kaIBfZ0OYUufBKrKRHCSWgmAQ5fmOIWl6DNjXx6dbwqRfgh4L6eJLC3v/oXW1HnOGFlsDeR0L3TygmEC+tn+j19ciNgt5Qzznc4B3AUPGd33xb7yL3G3LJVaaiX4kKMExCD+bf2YTctvCZZZEzndJYBIZJfE8F9jtBE0HsfpMswQNOoR+HYWIbPkyQiQIr4pyelKyOQ5No8UyoF1PLahjboMqIhqABl3/HA6EX05kGyEboSBuQIZ2/FDGnInKuSyaZnKcYLU32lMTF3P05ITHVb8nFNiQ09MZbXPPI+H9QliMuMuV9xIIqBN2vwAy8HTKw0gJ0sZuYW6l9MuBTS8MnnkujQSgOPxctdhGzy7VPTWL+5eiF1+ABUJJKMpGzr4CHaG8U1KrauH0IHEAot/kRDZ/swKeUaG9bvi13Em2jKUWF4gDDzdGn/zbcmHJE4MEWcZCAFPWk2xc8/ATcpbGl4zOsYFCC1IOsIex7/KchaEMj0ywkh9CH+3c59J8104uLbY36T758x1d68229twIZ+y+6qffGRFa5Jrd3jR3Td5ukJhVgr9TKWp03benp9fo7cmm1/lvImLUXDN757XWe5v+g+QU6sNkgKUPrgwAAAABJRU5ErkJggg=="></span><span class=font-weight-bold>Splunk Observability Cloud Workshops</span>
</a>
<div class="td-navbar-nav-scroll ml-md-auto" id=main_navbar>
<ul class="navbar-nav mt-2 mt-lg-0">
</ul>
</div>
</nav>
<nav class="js-navbar-scroll navbar navbar-expand navbar-dark flex-column flex-md-row td-navbar" id=navbar2>
<div class="td-navbar-nav-scroll ml-md-auto" id=main_navbar>
<ul class="navbar-nav mt-2 mt-lg-0">
<li class="nav-item mr-4 mb-2 mb-lg-0">
<a class=nav-link href=/observability-workshop/v4.26/imt/><span>Splunk IMT</span></a>
</li>
<li class="nav-item mr-4 mb-2 mb-lg-0">
<a class=nav-link href=/observability-workshop/v4.26/apm/><span>Splunk APM</span></a>
</li>
<li class="nav-item mr-4 mb-2 mb-lg-0">
<a class=nav-link href=/observability-workshop/v4.26/synthetics/><span>Splunk Synthetics</span></a>
</li>
<li class="nav-item mr-4 mb-2 mb-lg-0">
<a class="nav-link active" href=/observability-workshop/v4.26/rum/><span class=active>Splunk RUM</span></a>
</li>
<li class="nav-item dropdown mr-4 d-none d-lg-block">
<a class="nav-link dropdown-toggle" href=# id=navbarDropdown role=button data-toggle=dropdown aria-haspopup=true aria-expanded=false>
More Workshops
</a>
<div class=dropdown-menu aria-labelledby=navbarDropdownMenuLink>
<a class=dropdown-item href=https://signalfx.github.io/observability-workshop/latest/pet-clinic/>Pet Clinic Java Workshop</a>
<a class=dropdown-item href=https://signalfx.github.io/observability-workshop/latest/bootcamp/>O11y Bootcamp</a>
<a class=dropdown-item href=https://signalfx.github.io/observability-workshop/latest/resources/>Resources</a>
</div>
</li>
<li class="nav-item dropdown mr-4 d-none d-lg-block">
<a class="nav-link dropdown-toggle" href=# id=navbarDropdown role=button data-toggle=dropdown aria-haspopup=true aria-expanded=false>
Releases
</a>
<div class=dropdown-menu aria-labelledby=navbarDropdownMenuLink>
<a class=dropdown-item href=https://signalfx.github.io/observability-workshop/latest/>latest</a>
<a class=dropdown-item href=https://signalfx.github.io/observability-workshop/v4.25>v4.25</a>
<a class=dropdown-item href=https://signalfx.github.io/observability-workshop/v4.26>v4.26</a>
</div>
</li>
<li class="nav-item dropdown mr-4 d-none d-lg-block">
<a class="nav-link dropdown-toggle" href=# id=navbarDropdown role=button data-toggle=dropdown aria-haspopup=true aria-expanded=false>
English
</a>
<div class=dropdown-menu aria-labelledby=navbarDropdownMenuLink>
<a class=dropdown-item href=/observability-workshop/v4.26/ja/>日本語</a>
</div>
</li>
</ul>
</div>
</nav>
</header>
<div class="container-fluid td-outer">
<div class=td-main>
<div class="row flex-xl-nowrap">
<aside class="col-12 col-md-3 col-xl-2 td-sidebar d-print-none">
<div id=td-sidebar-menu class=td-sidebar__inner>
<form class="td-sidebar__search d-flex align-items-center">
<input type=search class="form-control td-search-input" placeholder="&#xf002; Search this site…" aria-label="Search this site…" autocomplete=off data-offline-search-index-json-src=/observability-workshop/v4.26/offline-search-index.bfc3537d028e1a7831e502d9859cf9a6.json data-offline-search-base-href=/ data-offline-search-max-results=10>
<button class="btn btn-link td-sidebar__toggle d-md-none p-0 ml-3 fas fa-bars" type=button data-toggle=collapse data-target=#td-section-nav aria-controls=td-docs-nav aria-expanded=false aria-label="Toggle section navigation">
</button>
</form>
<nav class="collapse td-sidebar-nav" id=td-section-nav>
<div class="nav-item dropdown d-block d-lg-none">
<a class="nav-link dropdown-toggle" href=# id=navbarDropdown role=button data-toggle=dropdown aria-haspopup=true aria-expanded=false>
English
</a>
<div class=dropdown-menu aria-labelledby=navbarDropdownMenuLink>
<a class=dropdown-item href=/observability-workshop/v4.26/ja/>日本語</a>
</div>
</div>
<ul class="td-sidebar-nav__section pr-md-3 ul-0">
<li class="td-sidebar-nav__section-title td-sidebar-nav__section with-child active-path" id=m-observability-workshopv426rum-li>
<a href=/observability-workshop/v4.26/rum/ title="Splunk RUM, an introduction" class="align-left pl-0 td-sidebar-link td-sidebar-link__section tree-root" id=m-observability-workshopv426rum><span>Splunk RUM</span></a>
<ul class=ul-1>
<li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id=m-observability-workshopv426rumoverview-li>
<a href=/observability-workshop/v4.26/rum/overview/ class="align-left pl-0 td-sidebar-link td-sidebar-link__page" id=m-observability-workshopv426rumoverview><span>Overview</span></a>
</li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id=m-observability-workshopv426rumshowcase-li>
<a href=/observability-workshop/v4.26/rum/showcase/ class="align-left pl-0 td-sidebar-link td-sidebar-link__page" id=m-observability-workshopv426rumshowcase><span>Showcase of RUM with the Online Boutique</span></a>
</li><li class="td-sidebar-nav__section-title td-sidebar-nav__section with-child active-path" id=m-observability-workshopv426rumdocs-li>
<a href=/observability-workshop/v4.26/rum/docs/ class="align-left pl-0 td-sidebar-link td-sidebar-link__section" id=m-observability-workshopv426rumdocs><span>RUM Workshop</span></a>
<ul class="ul-2 foldable">
<li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id=m-observability-workshopv426rumdocsrumlanding-li>
<a href=/observability-workshop/v4.26/rum/docs/rumlanding/ class="align-left pl-0 td-sidebar-link td-sidebar-link__page" id=m-observability-workshopv426rumdocsrumlanding><span>Reviewing the RUM Landing Page</span></a>
</li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id=m-observability-workshopv426rumdocsbrowserapp-summary-li>
<a href=/observability-workshop/v4.26/rum/docs/browserapp-summary/ class="align-left pl-0 td-sidebar-link td-sidebar-link__page" id=m-observability-workshopv426rumdocsbrowserapp-summary><span>Check Browser Applications health at a glance</span></a>
</li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id=m-observability-workshopv426rumdocsmobileapp-summary-li>
<a href=/observability-workshop/v4.26/rum/docs/mobileapp-summary/ class="align-left pl-0 td-sidebar-link td-sidebar-link__page" id=m-observability-workshopv426rumdocsmobileapp-summary><span>Check Mobile Applications health at a glance</span></a>
</li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id=m-observability-workshopv426rumdocsanalyzing-metrics-li>
<a href=/observability-workshop/v4.26/rum/docs/analyzing-metrics/ class="align-left pl-0 td-sidebar-link td-sidebar-link__page" id=m-observability-workshopv426rumdocsanalyzing-metrics><span>Analyzing RUM Metrics</span></a>
</li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id=m-observability-workshopv426rumdocstag-spotlight-li>
<a href=/observability-workshop/v4.26/rum/docs/tag-spotlight/ title="Analyzing RUM Tags in the Tag Spotlight view" class="align-left pl-0 td-sidebar-link td-sidebar-link__page" id=m-observability-workshopv426rumdocstag-spotlight><span>Using Tag Spotlight</span></a>
</li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id=m-observability-workshopv426rumdocsrum-sessions-li>
<a href=/observability-workshop/v4.26/rum/docs/rum-sessions/ title="Analyzing RUM Sessions" class="align-left pl-0 td-sidebar-link td-sidebar-link__page" id=m-observability-workshopv426rumdocsrum-sessions><span>Discover RUM Sessions</span></a>
</li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id=m-observability-workshopv426rumdocsapm-correlation-li>
<a href=/observability-workshop/v4.26/rum/docs/apm-correlation/ title="Correlate between Splunk RUM and APM backend services" class="align-left pl-0 td-sidebar-link td-sidebar-link__page" id=m-observability-workshopv426rumdocsapm-correlation><span>Correlation of RUM and APM</span></a>
</li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id=m-observability-workshopv426rumdocsalerting-li>
<a href=/observability-workshop/v4.26/rum/docs/alerting/ title="Custom Charts and Alerts based on RUM Metrics" class="align-left pl-0 td-sidebar-link td-sidebar-link__page" id=m-observability-workshopv426rumdocsalerting><span>Alerts</span></a>
</li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child active-path" id=m-observability-workshopv426rumdocssetup-li>
<a href=/observability-workshop/v4.26/rum/docs/setup/ title="Example of RUM enablement in your Website" class="align-left pl-0 active td-sidebar-link td-sidebar-link__page" id=m-observability-workshopv426rumdocssetup><span class=td-sidebar-nav-active-item>Using RUM on your Website</span></a>
</li>
</ul>
</li>
</ul>
</li>
</ul>
</nav>
</div>
</aside>
<aside class="d-none d-xl-block col-xl-2 td-sidebar-toc d-print-none">
<div class="td-page-meta ml-2 pb-1 pt-2 mb-0">
</div>
<div class=td-toc><nav id=TableOfContents>
<ul>
<li><a href=#1-review-the-original-code-of-your-non-rum-online-boutique>1. Review the original code of your NON RUM Online-Boutique</a></li>
<li><a href=#2-obtain-rum-access-token>2. Obtain RUM Access Token</a></li>
<li><a href=#2-deploy-online-boutique>2. Deploy Online Boutique</a>
<ul>
<li><a href=#11-chrome-firefox---microsoft-edge-users---check-the-web-page-source>1.1 Chrome, FireFox & Microsoft Edge Users - Check the Web page source</a></li>
<li><a href=#12-safari-users---check-the-web-page-source>1.2 Safari Users - Check the Web page source</a></li>
<li><a href=#13-internet-explorer-users---check-the-web-page-source>1.3 Internet Explorer Users - Check the Web page source</a></li>
</ul>
</li>
<li><a href=#2----review-the-unchanged-head-section>2 - Review the unchanged HEAD section</a></li>
<li><a href=#3-find-the-web-url-of-the-rum-enabled-online-boutique>3. Find the web (URL) of the RUM enabled Online Boutique</a></li>
<li><a href=#4--review-the-changes-made-to-enable-rum-in-the-head-section-of-the-rum-enabled-online-boutique>4. Review the Changes made to enable RUM in the HEAD section of the RUM enabled Online-Boutique</a></li>
</ul>
</nav></div>
<div class="taxonomy taxonomy-terms-cloud taxo-tags">
<h5 class=taxonomy-title>Tag Cloud</h5>
<ul class=taxonomy-terms>
<li><a class=taxonomy-term href=https://signalfx.github.io/observability-workshop/v4.26/tags/k3s/ data-taxonomy-term=k3s><span class=taxonomy-label>k3s</span><span class=taxonomy-count>1</span></a></li>
<li><a class=taxonomy-term href=https://signalfx.github.io/observability-workshop/v4.26/tags/ngnix/ data-taxonomy-term=ngnix><span class=taxonomy-label>NGNIX</span><span class=taxonomy-count>1</span></a></li>
</ul>
</div>
<div class="taxonomy taxonomy-terms-cloud taxo-categories">
<h5 class=taxonomy-title>Categories</h5>
<ul class=taxonomy-terms>
<li><a class=taxonomy-term href=https://signalfx.github.io/observability-workshop/v4.26/categories/imt/ data-taxonomy-term=imt><span class=taxonomy-label>IMT</span><span class=taxonomy-count>2</span></a></li>
</ul>
</div>
</aside>
<main class="col-12 col-md-9 col-xl-8 pl-md-5" role=main>
<nav aria-label=breadcrumb class=td-breadcrumbs>
<ol class=breadcrumb>
<li class=breadcrumb-item>
<a href=https://signalfx.github.io/observability-workshop/v4.26/rum/>Splunk RUM</a>
</li>
<li class=breadcrumb-item>
<a href=https://signalfx.github.io/observability-workshop/v4.26/rum/docs/>RUM Workshop</a>
</li>
<li class="breadcrumb-item active" aria-current=page>
<a href=https://signalfx.github.io/observability-workshop/v4.26/rum/docs/setup/>Using RUM on your Website</a>
</li>
</ol>
</nav>
<div class=td-content>
<h1>Example of RUM enablement in your Website</h1>
<header class=article-meta>
<p class=reading-time><i class="fa fa-clock" aria-hidden=true></i>&nbsp; 6 minute read &nbsp;</p>
</header>
<ul>
<li>Check the original HEAD section of your Online-boutique webpage (or use the examples here) in your browser</li>
<li>Find the Web address of your workshop hosts Online Boutique</li>
<li>Compare the changes made to the hosts Online-Boutique and compare with the base one.</li>
</ul>
<hr>
<h2 id=1-review-the-original-code-of-your-non-rum-online-boutique>1. Review the original code of your NON RUM Online-Boutique</h2>
<p>If you have access to an EC2 instance and have previously installed the Online Boutique as part of the APM session, you can view it on port 81 of the EC2 instance&rsquo;s IP address.</p>
<p>If you have not got access to an EC2 instance with the Online Boutique installed then your workshop instructor will provide you with the Online Boutique URL that does not have RUM installed so that you can complete the next steps.</p>
<h2 id=2-obtain-rum-access-token>2. Obtain RUM Access Token</h2>
<p>As this Deployment we are about to do is also used as part of the RUM workshop section, you will need to obtain your RUM Access Token from the Splunk UI. You can find the workshop Access Token by clicking <strong>&#187;</strong> bottom left and then selecting <strong>Settings → Access Tokens</strong>.</p>
<p>Expand the RUM workshop token that your host has instructed you to use e.g. <strong>O11y-Workshop-RUM-TOKEN</strong>, then click on <strong>Show Token</strong> to expose your token. Click the
<strong class="label-button ui-button-grey" role=label-button>
Copy
</strong>
&nbsp; button to copy to clipboard. Please do not use the <strong>Default</strong> token! Make sure the token has RUM as its Authorization Scope.</p>
<p><img src=../../../images/RUM-Access-Token.png alt="Access Token"></p>
<div class="alert alert-warning" role=alert>
<p class=alert-heading>Please do not attempt to create your own token</p>
<div class=alert-body>
We have created a RUM Token specifically for this workshop with the appropriate settings for the exercises you will be performing
</div>
</div>
<p>Create the <code>RUM_TOKEN</code> environment variable to use in the proceeding shell script to personalize your deployment.</p>
<ul class="nav nav-tabs" id=tabs-2 role=tablist><li class=nav-item>
<a class="nav-link active tab-Export-Variables" id=tabs-2-0-tab data-toggle=tab href=#tabs-2-0 role=tab onclick='handleClick("Export-Variables")' aria-controls=tabs-2-0 aria-selected=true>
Export Variables
</a>
</li></ul>
<div class=tab-content id=tabs-2-content><div class="tab-pane fade show active" id=tabs-2-0 role=tabpanel aria-labelled-by=tabs-2-0-tab><div class=highlight><pre tabindex=0 style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash><span style=color:#204a87>export</span> <span style=color:#000>RUM_TOKEN</span><span style=color:#ce5c00;font-weight:700>=</span>&lt;replace_with_O11y-Workshop-RUM-TOKEN&gt;</code></pre></div></div>
</div>
<h2 id=2-deploy-online-boutique>2. Deploy Online Boutique</h2>
<p>To deploy the Online Boutique application into K3s, run the apm config script, then apply the deployment:</p>
<ul class="nav nav-tabs" id=tabs-3 role=tablist><li class=nav-item>
<a class="nav-link active tab-Deploy-Online-Boutique" id=tabs-3-0-tab data-toggle=tab href=#tabs-3-0 role=tab onclick='handleClick("Deploy-Online-Boutique")' aria-controls=tabs-3-0 aria-selected=true>
Deploy Online Boutique
</a>
</li><li class=nav-item>
<a class="nav-link tab-Deployment-Output" id=tabs-3-1-tab data-toggle=tab href=#tabs-3-1 role=tab onclick='handleClick("Deployment-Output")' aria-controls=tabs-3-1 aria-selected=false>
Deployment Output
</a>
</li></ul>
<div class=tab-content id=tabs-3-content><div class="tab-pane fade show active" id=tabs-3-0 role=tabpanel aria-labelled-by=tabs-3-0-tab><div class=highlight><pre tabindex=0 style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash><span style=color:#204a87>cd</span> ~/workshop/apm
./apm-config.sh -r
kubectl apply -f deploymentRUM.yaml</code></pre></div></div>
<div class="tab-pane fade" id=tabs-3-1 role=tabpanel aria-labelled-by=tabs-3-1-tab><div class=highlight><pre tabindex=0 style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash>deployment.apps/checkoutservice created
service/checkoutservice created
deployment.apps/redis-cart created
service/redis-cart created
deployment.apps/productcatalogservice created
service/productcatalogservice created
deployment.apps/loadgenerator created
service/loadgenerator created
deployment.apps/frontend created
service/frontend created
service/frontend-external created
deployment.apps/paymentservice created
service/paymentservice created
deployment.apps/emailservice created
service/emailservice created
deployment.apps/adservice created
service/adservice created
deployment.apps/cartservice created
service/cartservice created
deployment.apps/recommendationservice created
service/recommendationservice created
deployment.apps/shippingservice created
service/shippingservice created
deployment.apps/currencyservice created
service/currencyservice created</code></pre></div></div>
</div>
<div class="alert alert-warning" role=alert>
<p class=alert-heading>In case of a message about a VARIABLE being unset</p>
<div class=alert-body>
Please undeploy the APM environment by running <strong>kubectl delete -f deployment.yaml</strong></br>
Before exporting the variable as described in the guide and rerunning the deployment script above.
</div>
</div>
<p>Open your web browser and go to the Online Boutique. (The one you previously used, or the one provided by the Workshop instructor). You will see the Non RUM Online Boutique running.</p>
<p><img src=../../images/online-boutique.png alt="Online Boutique"></p>
<p>Follow the instructions for your preferred browser below:</p>
<h3 id=11-chrome-firefox---microsoft-edge-users---check-the-web-page-source>1.1 Chrome, FireFox & Microsoft Edge Users - Check the Web page source</h3>
<p>In Chrome & Firefox or Microsoft Edge you can right click on the Online-Boutique site, you will have an option to <strong>&ldquo;View Page Source&rdquo;</strong></p>
<p><img src=../../images/Chrome-1.png alt=Chrome-see-source></p>
<p>Selecting it will show you the HTML page source code in a separate Tab.</p>
<p><img src=../../images/Chrome-html.png alt=Chrome-see-html></p>
<p>If successful you can skip to <a href=../RUM-Setup/#2-review-the-unchanged-head-section>2 - Review the unchanged HEAD section.</a>
</p>
<h3 id=12-safari-users---check-the-web-page-source>1.2 Safari Users - Check the Web page source</h3>
<p>For Safari users, you may have to enable the extra menu in Safari by selecting <strong>&lsquo;Preferences&rsquo;</strong> under <em>Safari</em> in the OS X menu bar.</p>
<p><img src=../../images/Safari-1.png alt=Safari-1></p>
<p>Then in the dialog that pops up, under the <strong>&lsquo;Advanced&rsquo;</strong> pane select the checkbox that says <strong>&lsquo;Show Develop menu in menu bar. &lsquo;</strong> and close the Dialog box.</p>
<p><img src=../../images/Safari-2.png alt=Safari-2></p>
<p>You can now right click on the Online-Boutique and you now will have an option <strong>&lsquo;Show Page Source&rsquo;</strong>.</p>
<p><img src=../../images/Safari-3.png alt=Safari-3></p>
<p>If you select that option on the Online-Boutique you will see the HTML source code as shown below:</p>
<p><img src=../../images/Safari-html.png alt=Safari-html></p>
<p>If successful you can skip to <a href=../RUM-Setup/#2-review-the-unchanged-head-section>2 - Review the unchanged HEAD section.</a>
</p>
<h3 id=13-internet-explorer-users---check-the-web-page-source>1.3 Internet Explorer Users - Check the Web page source</h3>
<p>For Internet Explorer 11 Users, you may have trouble with this exercise as it will require a specific version of the Splunk Open Telemetry Javascript for Web/RUM.</p>
<p>However you will be able to see the changes required by right clicking on the Online-Boutique site, you see an option to <strong>&ldquo;View Source&rdquo;</strong></p>
<p><img src=../../images/IE-1.png alt=IE-1></p>
<p>If you select that option on the Online-Boutique you will see the HTML source code as shown below:</p>
<p><img src=../../images/IE-2.png alt=IE-2></p>
<h2 id=2----review-the-unchanged-head-section>2 - Review the unchanged HEAD section</h2>
<p>The changes for RUM will be placed in the HEAD section of your Web page, Below are the original lines as you should have it in your local Base version.</p>
<p><img src=../../images/ViewBase-HEAD-html.png alt="Online Boutique"></p>
<p>There is no reference to the Splunk or Open Telemetry Beacon (The function that is used to send RUM Metrics and Traces )</p>
<h2 id=3-find-the-web-url-of-the-rum-enabled-online-boutique>3. Find the web (URL) of the RUM enabled Online Boutique</h2>
<p>The Online Boutique we are going to use for RUM is viewable on port 81 of the RUM Enabled instance&rsquo;s IP address and the url will be provided to you by the workshop instructor at this point.</p>
<p>We are all connecting to the extra RUM Enabled Online Boutique provided by the workshops instructor for this RUM session. Open a new web browser and go to <code>http://{==RUM-HOST-EC2-IP==}:81/</code> where you will then be able to see the RUM enabled Online Boutique running. Again, view the source of the HTML Page as described in the previous section:</p>
<h2 id=4--review-the-changes-made-to-enable-rum-in-the-head-section-of-the-rum-enabled-online-boutique>4. Review the Changes made to enable RUM in the HEAD section of the RUM enabled Online-Boutique</h2>
<p>The changes needed for RUM are placed in the HEAD section of the hosts Web page, Below is the hosts updated HEAD section with the changes required to enable RUM:</p>
<p><img src=../../images/ViewRUM-HEAD-html.png alt="Online Boutique"></p>
<p>The first three lines (marked in red) have been added to the HEAD section of the host Web page to enable RUM Tracing, the last three (marked in blue) are optional and used to enable Custom RUM events.</p>
<div class=highlight><pre tabindex=0 style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-html data-lang=html><span style=color:#000;font-weight:700>&lt;</span><span style=color:#204a87;font-weight:700>script</span> <span style=color:#c4a000>src</span><span style=color:#ce5c00;font-weight:700>=</span><span style=color:#4e9a06>&#34;https://cdn.signalfx.com/o11y-gdi-rum/latest/splunk-otel-web.js&#34;</span> <span style=color:#c4a000>type</span><span style=color:#ce5c00;font-weight:700>=</span><span style=color:#4e9a06>&#34;text/javascript&#34;</span><span style=color:#000;font-weight:700>&gt;&lt;/</span><span style=color:#204a87;font-weight:700>script</span><span style=color:#000;font-weight:700>&gt;</span>
<span style=color:#000;font-weight:700>&lt;</span><span style=color:#204a87;font-weight:700>script</span><span style=color:#000;font-weight:700>&gt;</span><span style=color:#204a87>window</span><span style=color:#000;font-weight:700>.</span><span style=color:#000>SplunkRum</span> <span style=color:#ce5c00;font-weight:700>&amp;&amp;</span> <span style=color:#204a87>window</span><span style=color:#000;font-weight:700>.</span><span style=color:#000>SplunkRum</span><span style=color:#000;font-weight:700>.</span><span style=color:#000>init</span><span style=color:#000;font-weight:700>({</span><span style=color:#000>beaconUrl</span><span style=color:#ce5c00;font-weight:700>:</span> <span style=color:#4e9a06>&#34;https://rum-ingest.eu0.signalfx.com/v1/rum&#34;</span><span style=color:#000;font-weight:700>,</span>
        <span style=color:#000>rumAuth</span><span style=color:#ce5c00;font-weight:700>:</span> <span style=color:#4e9a06>&#34;1wCqZVUWIP5XSdNjPoQRFg&#34;</span><span style=color:#000;font-weight:700>,</span> <span style=color:#000>app</span><span style=color:#ce5c00;font-weight:700>:</span> <span style=color:#4e9a06>&#34;ksnq-rum-app&#34;</span><span style=color:#000;font-weight:700>,</span> <span style=color:#000>environment</span><span style=color:#ce5c00;font-weight:700>:</span> <span style=color:#4e9a06>&#34;ksnq-rum-env&#34;</span><span style=color:#000;font-weight:700>});&lt;/</span><span style=color:#204a87;font-weight:700>script</span><span style=color:#000;font-weight:700>&gt;</span>
    <span style=color:#000;font-weight:700>&lt;</span><span style=color:#204a87;font-weight:700>script</span><span style=color:#000;font-weight:700>&gt;</span>
    <span style=color:#204a87;font-weight:700>const</span> <span style=color:#000>Provider</span> <span style=color:#ce5c00;font-weight:700>=</span> <span style=color:#000>SplunkRum</span><span style=color:#000;font-weight:700>.</span><span style=color:#000>provider</span><span style=color:#000;font-weight:700>;</span> 
    <span style=color:#204a87;font-weight:700>var</span> <span style=color:#000>tracer</span><span style=color:#ce5c00;font-weight:700>=</span><span style=color:#000>Provider</span><span style=color:#000;font-weight:700>.</span><span style=color:#000>getTracer</span><span style=color:#000;font-weight:700>(</span><span style=color:#4e9a06>&#39;appModuleLoader&#39;</span><span style=color:#000;font-weight:700>);</span>
<span style=color:#000;font-weight:700>&lt;/</span><span style=color:#204a87;font-weight:700>script</span><span style=color:#000;font-weight:700>&gt;</span>
</code></pre></div><ul>
<li>The first part is to indicate where to download the Splunk Open Telemetry Javascript file from: <em><a href=https://cdn.signalfx.com/o11y-gdi-rum/latest/splunk-otel-web.js target=_blank>https://cdn.signalfx.com/o11y-gdi-rum/latest/splunk-otel-web.js</a>
</em> (This can also be loaded locally if so required)</li>
<li>The second line defines the location where to send the traces to in the beacon url: <code>{beaconUrl: "https://rum-ingest.eu0.signalfx.com/v1/rum"</code></li>
<li>It also adds an Access Token to : <code>rumAuth: "1wCqZVUWIP5XSdNjPoQRFg"</code> (this of course is an example, you can create multiple RUM Access Tokens for all your applications)</li>
<li>And it is used to add identification tags like the application Name and environment to the RUM trace for use in the SPLUNK RUM UI: <code>app: "ksnq-rum-app", environment: "ksnq-rum-env"}</code></li>
</ul>
<div class="alert alert-info" role=alert>
<p class=alert-heading>Info</p>
<div class=alert-body>
In this example the app name is <strong>ksnq-rum-app</strong>, this will be different in the Workshop. Check with your host what the app name and environment to use in the RUM session will be and make a note of it!
</div>
</div>
<p>The above two lines are all that is required to enable RUM on your website!</p>
<p>The (blue) optional section that uses <code>var tracer=Provider.getTracer('appModuleLoader');</code> will add a custom event for every page change allow you to better track your website conversions and usage.</p>
</div>
</main>
</div>
</div>
<footer class="bg-dark py-5 row d-print-none">
<div class="container-fluid mx-sm-5">
<div class=row>
<div class="col-6 col-sm-4 text-xs-center order-sm-2">
<ul class="list-inline mb-0">
<li class="list-inline-item mx-2 h3" data-toggle=tooltip data-placement=top title=Twitter aria-label=Twitter>
<a class=text-white target=_blank rel=noopener href=https://twitter.com/splunk aria-label=Twitter>
<i class="fab fa-twitter"></i>
</a>
</li>
</ul>
</div>
<div class="col-6 col-sm-4 text-right text-xs-center order-sm-3">
<ul class="list-inline mb-0">
<li class="list-inline-item mx-2 h3" data-toggle=tooltip data-placement=top title=GitHub aria-label=GitHub>
<a class=text-white target=_blank rel=noopener href=https://github.com/signalfx/observability-workshop aria-label=GitHub>
<i class="fab fa-github"></i>
</a>
</li>
</ul>
</div>
<div class="col-12 col-sm-4 text-center py-2 order-sm-2">
<small class=text-white>&copy; 2022 Splunk Inc. All Rights Reserved</small>
</div>
</div>
</div>
</footer>
</div>
<script src=https://cdn.jsdelivr.net/npm/popper.js@1.16.1/dist/umd/popper.min.js integrity=sha384-9/reFTGAW83EW2RDu2S0VKaIzap3H66lZH81PoYlFhbGU+6BZp6G7niu735Sk7lN crossorigin=anonymous></script>
<script src=https://cdn.jsdelivr.net/npm/bootstrap@4.6.1/dist/js/bootstrap.min.js integrity="sha512-UR25UO94eTnCVwjbXozyeVd6ZqpaAE9naiEUBK/A+QDbfSTQFhPGj5lOR6d8tsgbBk84Ggb5A3EkjsOgPRPcKA==" crossorigin=anonymous></script>
<script src=/observability-workshop/v4.26/js/tabpane-persist.js></script>
<script src=/observability-workshop/v4.26/js/main.min.8ab8f81ff7e1454d30024cd6f956d4d341c3a97e2a673f988065f2ee4e147922.js integrity="sha256-irj4H/fhRU0wAkzW+VbU00HDqX4qZz+YgGXy7k4UeSI=" crossorigin=anonymous></script>
<script>const svgCopy='<svg aria-hidden="true" height="16" viewBox="0 0 16 16" version="1.1" width="16" data-view-component="true"><path fill-rule="evenodd" d="M0 6.75C0 5.784.784 5 1.75 5h1.5a.75.75 0 010 1.5h-1.5a.25.25 0 00-.25.25v7.5c0 .138.112.25.25.25h7.5a.25.25 0 00.25-.25v-1.5a.75.75 0 011.5 0v1.5A1.75 1.75 0 019.25 16h-7.5A1.75 1.75 0 010 14.25v-7.5z"></path><path fill-rule="evenodd" d="M5 1.75C5 .784 5.784 0 6.75 0h7.5C15.216 0 16 .784 16 1.75v7.5A1.75 1.75 0 0114.25 11h-7.5A1.75 1.75 0 015 9.25v-7.5zm1.75-.25a.25.25 0 00-.25.25v7.5c0 .138.112.25.25.25h7.5a.25.25 0 00.25-.25v-7.5a.25.25 0 00-.25-.25h-7.5z"></path></svg>',svgCheck='<svg aria-hidden="true" height="16" viewBox="0 0 16 16" version="1.1" width="16" data-view-component="true"><path fill-rule="evenodd" fill="rgb(63, 185, 80)" d="M13.78 4.22a.75.75 0 010 1.06l-7.25 7.25a.75.75 0 01-1.06 0L2.22 9.28a.75.75 0 011.06-1.06L6 10.94l6.72-6.72a.75.75 0 011.06 0z"></path></svg>',addCopyButtons=a=>{document.querySelectorAll("pre > code").forEach(c=>{const b=document.createElement("button");b.className="clipboard-button",b.type="button",b.innerHTML=svgCopy,b.addEventListener("click",()=>{a.writeText(c.innerText).then(()=>{b.blur(),b.innerHTML=svgCheck,setTimeout(()=>b.innerHTML=svgCopy,2e3)},a=>b.innerHTML="Error")});const d=c.parentNode;d.parentNode.insertBefore(b,d)})};if(navigator&&navigator.clipboard)addCopyButtons(navigator.clipboard);else{const a=document.createElement("script");a.src="https://cdnjs.cloudflare.com/ajax/libs/clipboard-polyfill/2.7.0/clipboard-polyfill.promise.js",a.integrity="sha256-waClS2re9NUbXRsryKoof+F9qc1gjjIhc2eT7ZbIv94=",a.crossOrigin="anonymous",a.onload=()=>addCopyButtons(clipboard),document.body.appendChild(a)}</script>
</body>
</html>